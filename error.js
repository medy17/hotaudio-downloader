var oe=Object.create;var O=Object.defineProperty;var ie=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var ae=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty;var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ue=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of se(e))!ce.call(t,n)&&n!==r&&O(t,n,{get:()=>e[n],enumerable:!(o=ie(e,n))||o.enumerable});return t};var fe=(t,e,r)=>(r=t!=null?oe(ae(t)):{},ue(e||!t||!t.__esModule?O(r,"default",{value:t,enumerable:!0}):r,t));var k=S((E,F)=>{(function(t,e){"use strict";typeof define=="function"&&define.amd?define("stackframe",[],e):typeof E=="object"?F.exports=e():t.StackFrame=e()})(E,function(){"use strict";function t(c){return!isNaN(parseFloat(c))&&isFinite(c)}function e(c){return c.charAt(0).toUpperCase()+c.substring(1)}function r(c){return function(){return this[c]}}var o=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],i=["fileName","functionName","source"],s=["args"],m=["evalOrigin"],a=o.concat(n,i,s,m);function u(c){if(c)for(var l=0;l<a.length;l++)c[a[l]]!==void 0&&this["set"+e(a[l])](c[a[l]])}u.prototype={getArgs:function(){return this.args},setArgs:function(c){if(Object.prototype.toString.call(c)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=c},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(c){if(c instanceof u)this.evalOrigin=c;else if(c instanceof Object)this.evalOrigin=new u(c);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var c=this.getFileName()||"",l=this.getLineNumber()||"",h=this.getColumnNumber()||"",y=this.getFunctionName()||"";return this.getIsEval()?c?"[eval] ("+c+":"+l+":"+h+")":"[eval]:"+l+":"+h:y?y+" ("+c+":"+l+":"+h+")":c+":"+l+":"+h}},u.fromString=function(l){var h=l.indexOf("("),y=l.lastIndexOf(")"),Z=l.substring(0,h),ee=l.substring(h+1,y).split(","),I=l.substring(y+1);if(I.indexOf("@")===0)var _=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(I,""),te=_[1],re=_[2],ne=_[3];return new u({functionName:Z,args:ee||void 0,fileName:te,lineNumber:re||void 0,columnNumber:ne||void 0})};for(var f=0;f<o.length;f++)u.prototype["get"+e(o[f])]=r(o[f]),u.prototype["set"+e(o[f])]=function(c){return function(l){this[c]=!!l}}(o[f]);for(var d=0;d<n.length;d++)u.prototype["get"+e(n[d])]=r(n[d]),u.prototype["set"+e(n[d])]=function(c){return function(l){if(!t(l))throw new TypeError(c+" must be a Number");this[c]=Number(l)}}(n[d]);for(var p=0;p<i.length;p++)u.prototype["get"+e(i[p])]=r(i[p]),u.prototype["set"+e(i[p])]=function(c){return function(l){this[c]=String(l)}}(i[p]);return u})});var R=S((b,L)=>{(function(t,e){"use strict";typeof define=="function"&&define.amd?define("error-stack-parser",["stackframe"],e):typeof b=="object"?L.exports=e(k()):t.ErrorStackParser=e(t.StackFrame)})(b,function(e){"use strict";var r=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace<"u"||typeof s["opera#sourceloc"]<"u")return this.parseOpera(s);if(s.stack&&s.stack.match(o))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s);throw new Error("Cannot parse given Error object")},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];var m=/(.+?)(?::(\d+))?(?::(\d+))?$/,a=m.exec(s.replace(/[()]/g,""));return[a[1],a[2]||void 0,a[3]||void 0]},parseV8OrIE:function(s){var m=s.stack.split(`
`).filter(function(a){return!!a.match(o)},this);return m.map(function(a){a.indexOf("(eval ")>-1&&(a=a.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var u=a.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),f=u.match(/ (\(.+\)$)/);u=f?u.replace(f[0],""):u;var d=this.extractLocation(f?f[1]:u),p=f&&u||void 0,c=["eval","<anonymous>"].indexOf(d[0])>-1?void 0:d[0];return new e({functionName:p,fileName:c,lineNumber:d[1],columnNumber:d[2],source:a})},this)},parseFFOrSafari:function(s){var m=s.stack.split(`
`).filter(function(a){return!a.match(n)},this);return m.map(function(a){if(a.indexOf(" > eval")>-1&&(a=a.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),a.indexOf("@")===-1&&a.indexOf(":")===-1)return new e({functionName:a});var u=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=a.match(u),d=f&&f[1]?f[1]:void 0,p=this.extractLocation(a.replace(u,""));return new e({functionName:d,fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:a})},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){for(var m=/Line (\d+).*script (?:in )?(\S+)/i,a=s.message.split(`
`),u=[],f=2,d=a.length;f<d;f+=2){var p=m.exec(a[f]);p&&u.push(new e({fileName:p[2],lineNumber:p[1],source:a[f]}))}return u},parseOpera10:function(s){for(var m=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=s.stacktrace.split(`
`),u=[],f=0,d=a.length;f<d;f+=2){var p=m.exec(a[f]);p&&u.push(new e({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:a[f]}))}return u},parseOpera11:function(s){var m=s.stack.split(`
`).filter(function(a){return!!a.match(r)&&!a.match(/^Error created at/)},this);return m.map(function(a){var u=a.split("@"),f=this.extractLocation(u.pop()),d=u.shift()||"",p=d.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,c;d.match(/\(([^)]*)\)/)&&(c=d.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var l=c===void 0||c==="[arguments not available]"?void 0:c.split(",");return new e({functionName:p,args:l,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:a})},this)}}})});var v=class t{constructor(){this._context={};this._historyMaxLen=20;this._history=[]}clone(){let e=new t;return e._context={...this._context},e._history=this._history.slice(),e}setContext(e){this._context={...this._context,...e}}context(){let e={...this._context};return this._history.length>0&&(e.history=this._history.slice()),e}pushHistory(e){if(this._isDupState(e)){this._lastRecord.num?this._lastRecord.num++:this._lastRecord.num=2;return}e.date||(e.date=new Date),this._history.push(e),this._lastRecord=e,this._history.length>this._historyMaxLen&&(this._history=this._history.slice(-this._historyMaxLen))}_isDupState(e){if(!this._lastRecord)return!1;for(let r in e)if(!(!e.hasOwnProperty(r)||r==="date")&&e[r]!==this._lastRecord[r])return!1;return!0}};var M=fe(R()),le=typeof console=="object"&&console.warn;function P(t){try{return M.default.parse(t)}catch(e){le&&t.stack&&console.warn("ErrorStackParser:",e.toString(),t.stack)}return t.fileName?[t]:[]}function A(t){let e=[];if(t.noStack)e.push({function:t.functionName||"",file:t.fileName||"",line:t.lineNumber||0,column:t.columnNumber||0});else{let n=P(t);if(n.length===0)try{throw new Error("fake")}catch(i){n=P(i),n.shift(),n.shift()}for(let i of n)e.push({function:i.functionName||"",file:i.fileName||"",line:i.lineNumber||0,column:i.columnNumber||0})}let r=t.name?t.name:"",o=t.message?String(t.message):String(t);return{type:r,message:o,backtrace:e}}function H(){let t,e;return r=>{let o=JSON.stringify(r.errors);return o===t?null:(e&&clearTimeout(e),t=o,e=setTimeout(()=>{t=""},1e3),r)}}var pe=["Script error","Script error.","InvalidAccessError"];function $(t){let e=t.errors[0];return e.type===""&&pe.indexOf(e.message)!==-1||e.backtrace&&e.backtrace.length>0&&e.backtrace[0].file==="<anonymous>"?null:t}var de=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));function T(t){let e=t.errors[0];if(e.type!==""&&e.type!=="Error")return t;let r=e.message.match(de);return r!==null&&(e.type=r[1],e.message=r[2]),t}var C="hotaudio/airbrake",j="2.1.9";var N=class{constructor(e){this._filters=[];this._performanceFilters=[];this._scope=new v;this._onClose=[];this._opt=e,this._opt.timeout=this._opt.timeout||1e4,this._opt.keysBlocklist=this._opt.keysBlocklist||[/password/,/secret/],this._opt.errorNotifications=this._opt.errorNotifications!==!1,this._opt.performanceStats=this._opt.performanceStats!==!1,this._opt.queryStats=this._opt.queryStats!==!1,this._opt.queueStats=this._opt.queueStats!==!1,this._opt.remoteConfig=this._opt.remoteConfig!==!1,this._processor=this._opt.processor||A,this.addFilter($),this.addFilter(H()),this.addFilter(T),this.addFilter(r=>(r.context.notifier={name:C,version:j},this._opt.environment&&(r.context.environment=this._opt.environment),r))}close(){for(let e of this._onClose)e()}scope(){return this._scope}setActiveScope(e){this._scope=e}addFilter(e){this._filters.push(e)}addPerformanceFilter(e){this._performanceFilters.push(e)}notify(e){(typeof e!="object"||e===null||!("error"in e))&&(e={error:e}),this.handleFalseyError(e);let r=this.newNotice(e);if(!this._opt.errorNotifications)return r.error=new Error(`airbrake: not sending this error, errorNotifications is disabled err=${JSON.stringify(e.error)}`),Promise.resolve(r);let o=this._processor(e.error);r.errors.push(o);for(let n of this._filters){let i=n(r);if(i===null)return r.error=new Error("airbrake: error is filtered"),Promise.resolve(r);r=i}return r.context||(r.context={}),r.context.language="JavaScript",this._sendNotice(r)}handleFalseyError(e){Number.isNaN(e.error)?e.error=new Error("NaN"):e.error===void 0?e.error=new Error("undefined"):e.error===""?e.error=new Error("<empty string>"):e.error===null&&(e.error=new Error("null"))}newNotice(e){return{errors:[],context:{severity:"error",...this.scope().context(),...e.context},params:e.params||{},environment:e.environment||{},session:e.session||{}}}_sendNotice(e){if(this._opt.reporter){if(typeof this._opt.reporter=="function")return this._opt.reporter(e);console.warn("airbrake: options.reporter must be a function")}console.warn("airbrake: no requester available")}wrap(e,r=[]){if(e._airbrake)return e;let o=this,n=function(){let i=Array.prototype.slice.call(arguments),s=o._wrapArguments(i);try{return e.apply(this,s)}catch(m){throw o.notify({error:m,params:{arguments:i}}),o._ignoreNextWindowError(),m}};for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);for(let i of r)e.hasOwnProperty(i)&&(n[i]=e[i]);return n._airbrake=!0,n.inner=e,n}_wrapArguments(e){for(let r=0;r<e.length;r++){let o=e[r];typeof o=="function"&&(e[r]=this.wrap(o))}return e}_ignoreNextWindowError(){}call(e,...r){return this.wrap(e).apply(this,Array.prototype.slice.call(arguments,1))}};function D(t){return window.navigator&&window.navigator.userAgent&&(t.context.userAgent=window.navigator.userAgent),window.location&&(t.context.url=String(window.location),t.context.rootDirectory=window.location.protocol+"//"+window.location.host),t}var me=["debug","log","info","warn","error"];function X(t){for(let e of me){if(!(e in console))continue;let r=console[e],o=(...n)=>{r.apply(console,n),t.scope().pushHistory({type:"log",severity:e,arguments:n})};o.inner=r,console[e]=o}}var he=["type","name","src"];function W(t){let e=ge(t);window.addEventListener&&(window.addEventListener("load",e),window.addEventListener("error",r=>{q(r,"error")||e(r)},!0)),typeof document=="object"&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",e),document.addEventListener("click",e),document.addEventListener("keypress",e))}function ge(t){return e=>{let r=q(e,"target");if(!r)return;let o={type:e.type};try{o.target=Ne(r)}catch(n){o.target=`<${String(n)}>`}t.scope().pushHistory(o)}}function ye(t){if(!t)return"";let e=[];if(t.tagName&&e.push(t.tagName.toLowerCase()),t.id&&(e.push("#"),e.push(t.id)),t.classList&&Array.from)e.push("."),e.push(Array.from(t.classList).join("."));else if(t.className){let r=ve(t.className);r!==""&&(e.push("."),e.push(r))}if(t.getAttribute)for(let r of he){let o=t.getAttribute(r);o&&e.push(`[${r}="${o}"]`)}return e.join("")}function ve(t){return t.split?t.split(" ").join("."):t.baseVal&&t.baseVal.split?t.baseVal.split(" ").join("."):(console.error("unsupported HTMLElement.className type",typeof t),"")}function Ne(t){let r=[],o=t;for(;o;){let n=ye(o);if(n!==""&&(r.push(n),r.length>10))break;o=o.parentNode}return r.length===0?String(t):r.reverse().join(" > ")}function q(t,e){try{return t[e]}catch{return null}}function V(t){let e=window.fetch;window.fetch=function(r,o){let n={type:"xhr",date:new Date};return n.method=o&&o.method?o.method:"GET",typeof r=="string"?n.url=r:(n.method=r.method,n.url=r.url),t._ignoreNextXHR++,setTimeout(()=>t._ignoreNextXHR--),e.apply(this,arguments).then(i=>(n.statusCode=i.status,n.duration=new Date().getTime()-n.date.getTime(),t.scope().pushHistory(n),i)).catch(i=>{throw n.error=i,n.duration=new Date().getTime()-n.date.getTime(),t.scope().pushHistory(n),i})}}var x="";function G(){return document.location&&document.location.pathname}function U(t){x=G();let e=window.onpopstate;window.onpopstate=function(n){let i=G();if(i&&J(t,i),e)return e.apply(this,arguments)};let r=history.pushState;history.pushState=function(n,i,s){s&&J(t,s.toString()),r.apply(this,arguments)}}function J(t,e){let r=e.indexOf("://");r>=0?(e=e.slice(r+3),r=e.indexOf("/"),e=r>=0?e.slice(r):"/"):e.charAt(0)!=="/"&&(e="/"+e),t.scope().pushHistory({type:"location",from:x,to:e}),x=e}function B(t){function e(n){let i=n.__state;i.statusCode=n.status,i.duration=new Date().getTime()-i.date.getTime(),t.scope().pushHistory(i)}let r=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(i,s,m,a,u){t._ignoreNextXHR===0&&(this.__state={type:"xhr",method:i,url:s}),r.apply(this,arguments)};let o=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(i){let s=this.onreadystatechange;return this.onreadystatechange=function(m){if(this.readyState===4&&this.__state&&e(this),s)return s.apply(this,arguments)},this.__state&&(this.__state.date=new Date),o.apply(this,arguments)}}function z(t){let e=we.bind(t);window.addEventListener("unhandledrejection",e),t._onClose.push(()=>{window.removeEventListener("unhandledrejection",e)})}function we(t){let e=t.reason||t.detail&&t.detail.reason;if(!e)return;let r=e.message||String(e);if(!(r.indexOf&&r.indexOf("airbrake: ")===0)){if(typeof e!="object"||e.error===void 0){this.notify({error:e,context:{unhandledRejection:!0}});return}this.notify({...e,context:{unhandledRejection:!0}})}}var w=class extends N{constructor(r){super(r);this.offline=!1;this.todo=[];this._ignoreWindowError=0;this._ignoreNextXHR=0;!(typeof window>"u")&&(this.addFilter(D),window.addEventListener&&(this.onOnline=this.onOnline.bind(this),window.addEventListener("online",this.onOnline),this.onOffline=this.onOffline.bind(this),window.addEventListener("offline",this.onOffline),this._onClose.push(()=>{window.removeEventListener("online",this.onOnline),window.removeEventListener("offline",this.onOffline)})),this._instrument(r.instrumentation))}_instrument(r={}){if(r.console===void 0&&(r.console=!_e(this._opt.environment)),g(r.onerror)){let o=this,n=window.onerror;window.onerror=function(){n&&n.apply(this,arguments),o.onerror.apply(o,arguments)}}W(this),g(r.fetch)&&typeof fetch=="function"&&V(this),g(r.history)&&typeof history=="object"&&U(this),g(r.console)&&typeof console=="object"&&X(this),g(r.xhr)&&typeof XMLHttpRequest<"u"&&B(this),g(r.unhandledrejection)&&typeof addEventListener=="function"&&z(this)}notify(r){return this.offline?new Promise((o,n)=>{for(this.todo.push({err:r,resolve:o,reject:n});this.todo.length>100;){let i=this.todo.shift();if(i===void 0)break;i.resolve({error:new Error("airbrake: offline queue is too large")})}}):super.notify(r)}onOnline(){this.offline=!1;for(let r of this.todo)this.notify(r.err).then(o=>{r.resolve(o)});this.todo=[]}onOffline(){this.offline=!0}onerror(r,o,n,i,s){if(!(this._ignoreWindowError>0)){if(s){this.notify({error:s,context:{windowError:!0}});return}!o||!n||this.notify({error:{message:r,fileName:o,lineNumber:n,columnNumber:i,noStack:!0},context:{windowError:!0}})}}_ignoreNextWindowError(){this._ignoreWindowError++,setTimeout(()=>this._ignoreWindowError--)}};function _e(t){return t&&t.startsWith&&t.startsWith("dev")}function g(t){return t===void 0||t===!0}var K,Q=((K=document.head.querySelector("meta[name='build']"))==null?void 0:K.getAttribute("content"))||void 0,Y=new w({remoteConfig:!1,reporter:async t=>{for(let e of["params","environment","session"])JSON.stringify(t[e])=="{}"&&delete t[e];return await fetch("/api/v1/error-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),t},environment:Q,instrumentation:{onerror:!0,fetch:!0,history:!0,console:!0,unhandledrejection:!0}}),Ee=0;Y.addFilter(t=>{var e;if(Ee++>10)return null;if((e=t.errors)!=null&&e.length){let r=t.errors[0];if(r.type=="AbortError"&&/interrupted (by a call to|because a) pause|user aborted| was aborted|Fetch is aborted/.test(r.message)||/fetch is stale|registerMyClickListener|runtime.sendMessage/.test(r.message))return null}return t});window.airbrake=Y;window.build=Q;
//# sourceMappingURL=error.5GEFURDM.js.map
