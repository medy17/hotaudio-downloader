// noinspection CheckDtdRefs

window.DECRYPTED_AUDIO_CHUNKS = [];
console.log('[HIJACK] Audio chunk collector is ready.');

// 2. Hijack the function that receives the decrypted audio
const originalAppendBuffer = SourceBuffer.prototype.appendBuffer;
SourceBuffer.prototype.appendBuffer = function(data) {
    // 3. Secretly save a copy of the clean data
    window.DECRYPTED_AUDIO_CHUNKS.push(data);
    console.log(`[HIJACK] Captured a decrypted chunk! Size: ${data.byteLength} bytes. Total chunks: ${window.DECRYPTED_AUDIO_CHUNKS.length}`);

    // 4. Call the original function so the audio still plays
    return originalAppendBuffer.apply(this, arguments);
};
var Ge=e=>{throw TypeError(e)};var Ne=(e,t,n)=>t.has(e)||Ge("Cannot "+n);var $=(e,t,n)=>(Ne(e,t,"read from private field"),n?n.call(e):t.get(e)),xt=(e,t,n)=>t.has(e)?Ge("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),wt=(e,t,n,r)=>(Ne(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var oe="0123456789abcdef",Fe=[],Ve=[];for(let e=0;e<256;e++)Fe[e]=oe[e>>4&15]+oe[e&15],e<16&&(e<10?Ve[48+e]=e:Ve[87+e]=e);var ae=e=>{let t=e.length,n="",r=0;for(;r<t;)n+=Fe[e[r++]];return n};var $e=(e,t=0)=>{let n=e.length||0;if(!t){let f=n;for(;f--;)t+=e[f].length}let r=new Uint8Array(t),o=t,a=n;for(;a--;)o-=e[a].length,r.set(e[a],o);return r};var De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Ct=0;Ct<De.length;Ct++)Rn[De.charCodeAt(Ct)]=Ct;var Ct;var Pn=new TextDecoder,ce=(e,t)=>t?new TextDecoder(t).decode(e):Pn.decode(e),Wn=new TextEncoder,it=e=>Wn.encode(e);var je=typeof window<"u"?window:self,Je=je.crypto||je.msCrypto||{},$r=Je.subtle||Je.webkitSubtle;function kt(e){let t=e<0?1:0;return e=Math.abs(Number(e||1)),Math.floor(Math.log10(e))+1+t}function $t(e){return ArrayBuffer.isView(e)?"arraybufferview":Array.isArray(e)?"array":e instanceof Number?"number":e instanceof Boolean?"boolean":e instanceof Set?"set":e instanceof Map?"map":e instanceof String?"string":e instanceof ArrayBuffer?"arraybuffer":typeof e}function Y(e,t,n){let r=[],o=null;return Y._encode(r,e),o=$e(r),Y.bytes=o.length,ArrayBuffer.isView(t)?(t.set(o,n),t):o}Y.bytes=-1;Y._floatConversionDetected=!1;Y._encode=function(e,t){if(t!=null)switch($t(t)){case"object":Y.dict(e,t);break;case"map":Y.dictMap(e,t);break;case"array":Y.list(e,t);break;case"set":Y.listSet(e,t);break;case"string":Y.string(e,t);break;case"number":Y.number(e,t);break;case"boolean":Y.number(e,t);break;case"arraybufferview":Y.buffer(e,new Uint8Array(t.buffer,t.byteOffset,t.byteLength));break;case"arraybuffer":Y.buffer(e,new Uint8Array(t));break}};var Dt=new Uint8Array([101]),Xe=new Uint8Array([100]),Ke=new Uint8Array([108]);Y.buffer=function(e,t){e.push(it(t.length+":"),t)};Y.string=function(e,t){e.push(it(it(t).byteLength+":"+t))};Y.number=function(e,t){if(Number.isInteger(t))return e.push(it("i"+BigInt(t)+"e"));let n=2147483648,r=t/n<<0,o=t%n<<0,a=r*n+o;e.push(it("i"+a+"e")),a!==t&&!Y._floatConversionDetected&&(Y._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+t+'":','Bencoding only defines support for integers, value was converted to "'+a+'"'),console.trace())};Y.dict=function(e,t){e.push(Xe);let n=0,r,o=Object.keys(t).sort(),a=o.length;for(;n<a;n++)r=o[n],t[r]!=null&&(Y.string(e,r),Y._encode(e,t[r]));e.push(Dt)};Y.dictMap=function(e,t){e.push(Xe);let n=Array.from(t.keys()).sort();for(let r of n)t.get(r)!=null&&(ArrayBuffer.isView(r)?Y._encode(e,r):Y.string(e,String(r)),Y._encode(e,t.get(r)));e.push(Dt)};Y.list=function(e,t){let n=0,r=t.length;for(e.push(Ke);n<r;n++)t[n]!=null&&Y._encode(e,t[n]);e.push(Dt)};Y.listSet=function(e,t){e.push(Ke);for(let n of t)n!=null&&Y._encode(e,n);e.push(Dt)};var Ze=Y;var Gn=105,Nn=58,Vn=100,Fn=108,fe=101;function ze(e,t,n){let r=0,o=1;for(let a=t;a<n;a++){let f=e[a];if(f<58&&f>=48){r=r*10+(f-48);continue}if(!(a===t&&f===43)){if(a===t&&f===45){o=-1;continue}if(f===46)break;throw new Error("not a number: buffer["+a+"] = "+f)}}return r*o}function j(e,t,n,r){return e==null||e.length===0?null:(typeof t!="number"&&r==null&&(r=t,t=void 0),typeof n!="number"&&r==null&&(r=n,n=void 0),j.position=0,j.encoding=r||null,j.data=ArrayBuffer.isView(e)?new Uint8Array(e.slice(t,n)):it(e),j.bytes=j.data.length,j.next())}j.bytes=0;j.position=0;j.data=null;j.encoding=null;j.next=function(){switch(j.data[j.position]){case Vn:return j.dictionary();case Fn:return j.list();case Gn:return j.integer();default:return j.buffer()}};j.find=function(e){let t=j.position,n=j.data.length,r=j.data;for(;t<n;){if(r[t]===e)return t;t++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(e)+'" [0x'+e.toString(16)+"]")};j.dictionary=function(){j.position++;let e={};for(;j.data[j.position]!==fe;){let t=j.buffer(),n=ce(t);n.includes("\uFFFD")&&(n=ae(t)),e[n]=j.next()}return j.position++,e};j.list=function(){j.position++;let e=[];for(;j.data[j.position]!==fe;)e.push(j.next());return j.position++,e};j.integer=function(){let e=j.find(fe),t=ze(j.data,j.position+1,e);return j.position+=e+1-j.position,t};j.buffer=function(){let e=j.find(Nn),t=ze(j.data,j.position,e),n=++e+t;return j.position=n,j.encoding?ce(j.data.slice(e,n)):j.data.slice(e,n)};var Ye=j;function $n(e){let t=2;for(let n of e)t+=jt(n);return t}function Dn(e){let t=2;for(let[n,r]of e){let o=it(n).byteLength;t+=kt(o)+1+o,t+=jt(r)}return t}function jn(e){let t=2,n=Object.keys(e);for(let r=0;r<n.length;r++){let o=it(n[r]).byteLength;t+=kt(o)+1+o,t+=jt(e[n[r]])}return t}function Jn(e){let t=it(e).byteLength;return kt(t)+1+t}function Xn(e){let t=e.byteLength-e.byteOffset;return kt(t)+1+t}function jt(e){if(e==null)return 0;let n=$t(e);switch(n){case"arraybufferview":return Xn(e);case"string":return Jn(e);case"array":case"set":return $n(e);case"number":return 1+kt(Math.floor(e))+1;case"bigint":return 1+e.toString().length+1;case"object":return jn(e);case"map":return Dn(e);default:throw new TypeError(`Unsupported value of type "${n}"`)}}var le=jt;var Kn=le,Et={encode:Ze,decode:Ye,byteLength:le,encodingLength:Kn};var vt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Zn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function _t(e,...t){if(!Zn(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function he(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Qe(e,t){_t(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ht(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Xt(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ct(e,t){return e<<32-t|e>>>t}var zn=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Yn=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gt(e){if(_t(e),zn)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Yn[e[n]];return t}function qe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ue(e){return typeof e=="string"&&(e=qe(e)),_t(e),e}var Jt=class{};function be(e){let t=r=>e().update(ue(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function tn(e=32){if(vt&&typeof vt.getRandomValues=="function")return vt.getRandomValues(new Uint8Array(e));if(vt&&typeof vt.randomBytes=="function")return Uint8Array.from(vt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Qn(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),a=BigInt(4294967295),f=Number(n>>o&a),l=Number(n&a),E=r?4:0,L=r?0:4;e.setUint32(t+E,f,r),e.setUint32(t+L,l,r)}function en(e,t,n){return e&t^~e&n}function nn(e,t,n){return e&t^e&n^t&n}var Kt=class extends Jt{constructor(t,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(t),this.view=Xt(this.buffer)}update(t){he(this),t=ue(t),_t(t);let{view:n,buffer:r,blockLen:o}=this,a=t.length;for(let f=0;f<a;){let l=Math.min(o-this.pos,a-f);if(l===o){let E=Xt(t);for(;o<=a-f;f+=o)this.process(E,f);continue}r.set(t.subarray(f,f+l),this.pos),this.pos+=l,f+=l,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){he(this),Qe(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:a}=this,{pos:f}=this;n[f++]=128,Ht(this.buffer.subarray(f)),this.padOffset>o-f&&(this.process(r,0),f=0);for(let S=f;S<o;S++)n[S]=0;Qn(r,o-8,BigInt(this.length*8),a),this.process(r,0);let l=Xt(t),E=this.outputLen;if(E%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let L=E/4,k=this.get();if(L>k.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<L;S++)l.setUint32(4*S,k[S],a)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:a,destroyed:f,pos:l}=this;return t.destroyed=f,t.finished=a,t.length=o,t.pos=l,o%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}},lt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var qn=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mt=new Uint32Array(64),Zt=class extends Kt{constructor(t=32){super(64,t,8,!1),this.A=lt[0]|0,this.B=lt[1]|0,this.C=lt[2]|0,this.D=lt[3]|0,this.E=lt[4]|0,this.F=lt[5]|0,this.G=lt[6]|0,this.H=lt[7]|0}get(){let{A:t,B:n,C:r,D:o,E:a,F:f,G:l,H:E}=this;return[t,n,r,o,a,f,l,E]}set(t,n,r,o,a,f,l,E){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=a|0,this.F=f|0,this.G=l|0,this.H=E|0}process(t,n){for(let S=0;S<16;S++,n+=4)mt[S]=t.getUint32(n,!1);for(let S=16;S<64;S++){let G=mt[S-15],H=mt[S-2],M=ct(G,7)^ct(G,18)^G>>>3,V=ct(H,17)^ct(H,19)^H>>>10;mt[S]=V+mt[S-7]+M+mt[S-16]|0}let{A:r,B:o,C:a,D:f,E:l,F:E,G:L,H:k}=this;for(let S=0;S<64;S++){let G=ct(l,6)^ct(l,11)^ct(l,25),H=k+G+en(l,E,L)+qn[S]+mt[S]|0,V=(ct(r,2)^ct(r,13)^ct(r,22))+nn(r,o,a)|0;k=L,L=E,E=l,l=f+H|0,f=a,a=o,o=r,r=H+V|0}r=r+this.A|0,o=o+this.B|0,a=a+this.C|0,f=f+this.D|0,l=l+this.E|0,E=E+this.F|0,L=L+this.G|0,k=k+this.H|0,this.set(r,o,a,f,l,E,L,k)}roundClean(){Ht(mt)}destroy(){this.set(0,0,0,0,0,0,0,0),Ht(this.buffer)}};var rn=be(()=>new Zt);var At=rn;var on=BigInt(0);function pe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function an(e){if(!pe(e))throw new Error("Uint8Array expected")}function bn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?on:BigInt("0x"+e)}var cn=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",tr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function er(e){if(an(e),cn)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=tr[e[n]];return t}var ht={_0:48,_9:57,A:65,F:70,a:97,f:102};function sn(e){if(e>=ht._0&&e<=ht._9)return e-ht._0;if(e>=ht.A&&e<=ht.F)return e-(ht.A-10);if(e>=ht.a&&e<=ht.f)return e-(ht.a-10)}function fn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(cn)return Uint8Array.fromHex(e);let t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(n);for(let o=0,a=0;o<n;o++,a+=2){let f=sn(e.charCodeAt(a)),l=sn(e.charCodeAt(a+1));if(f===void 0||l===void 0){let E=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+E+'" at index '+a)}r[o]=f*16+l}return r}function ge(e){return an(e),bn(er(Uint8Array.from(e).reverse()))}function nr(e,t){return fn(e.toString(16).padStart(t*2,"0"))}function ln(e,t){return nr(e,t).reverse()}function me(e,t,n){let r;if(typeof t=="string")try{r=fn(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(pe(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=r.length;if(typeof n=="number"&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return r}var de=e=>typeof e=="bigint"&&on<=e;function rr(e,t,n){return de(e)&&de(t)&&de(n)&&t<=e&&e<n}function ye(e,t,n,r){if(!rr(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}var sr={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||pe(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function hn(e,t,n={}){let r=(o,a,f)=>{let l=sr[a];if(typeof l!="function")throw new Error("invalid validator function");let E=e[o];if(!(f&&E===void 0)&&!l(E,e))throw new Error("param "+String(o)+" is invalid. Expected "+a+", got "+E)};for(let[o,a]of Object.entries(t))r(o,a,!1);for(let[o,a]of Object.entries(n))r(o,a,!0);return e}var un=BigInt(0),Es=BigInt(1);function zt(e,t){let n=e%t;return n>=un?n:t+n}function ot(e,t,n){let r=e;for(;t-- >un;)r*=r,r%=n;return r}var Mt=BigInt(0),Lt=BigInt(1),Yt=BigInt(2);function ir(e){return hn(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function dn(e){let t=ir(e),{P:n,type:r,adjustScalarBytes:o,powPminus2:a}=t,f=r==="x25519";if(!f&&r!=="x448")throw new Error("invalid type");let l=f?255:448,E=f?32:56,L=BigInt(f?9:5),k=BigInt(f?121665:39081),S=f?Yt**BigInt(254):Yt**BigInt(447),G=f?BigInt(8)*Yt**BigInt(251)-Lt:BigInt(4)*Yt**BigInt(445)-Lt,H=S+G+Lt,M=U=>zt(U,n),V=T(L);function T(U){return ln(M(U),E)}function i(U){let s=me("u coordinate",U,E);return f&&(s[31]&=127),M(ge(s))}function B(U){return ge(o(me("scalar",U,E)))}function N(U,s){let u=h(i(s),B(U));if(u===Mt)throw new Error("invalid private or public key received");return T(u)}function m(U){return N(U,V)}function I(U,s,u){let c=M(U*(s-u));return s=M(s-c),u=M(u+c),{x_2:s,x_3:u}}function h(U,s){ye("u",U,Mt,n),ye("scalar",s,S,H);let u=s,c=U,R=Lt,d=Mt,v=U,C=Lt,J=Mt;for(let F=BigInt(l-1);F>=Mt;F--){let z=u>>F&Lt;J^=z,{x_2:R,x_3:v}=I(J,R,v),{x_2:d,x_3:C}=I(J,d,C),J=z;let P=R+d,O=M(P*P),Q=R-d,g=M(Q*Q),y=O-g,p=v+C,w=v-C,b=M(w*P),st=M(p*Q),X=b+st,tt=b-st;v=M(X*X),C=M(c*M(tt*tt)),R=M(O*g),d=M(y*(O+M(k*y)))}({x_2:R,x_3:v}=I(J,R,v)),{x_2:d,x_3:C}=I(J,d,C);let _=a(d);return M(R*_)}return{scalarMult:N,scalarMultBase:m,getSharedSecret:(U,s)=>N(U,s),getPublicKey:U=>m(U),utils:{randomPrivateKey:()=>t.randomBytes(E)},GuBytes:V.slice()}}var xe=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");var Ms=BigInt(0),or=BigInt(1),pn=BigInt(2),ar=BigInt(3),cr=BigInt(5),Os=BigInt(8);function fr(e){let t=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),a=xe,l=e*e%a*e%a,E=ot(l,pn,a)*l%a,L=ot(E,or,a)*e%a,k=ot(L,cr,a)*L%a,S=ot(k,t,a)*k%a,G=ot(S,n,a)*S%a,H=ot(G,r,a)*G%a,M=ot(H,o,a)*H%a,V=ot(M,o,a)*H%a,T=ot(V,t,a)*k%a;return{pow_p_5_8:ot(T,pn,a)*e%a,b2:l}}function lr(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}var Qt=dn({P:xe,type:"x25519",powPminus2:e=>{let t=xe,{pow_p_5_8:n,b2:r}=fr(e);return zt(ot(n,ar,t)*r,t)},adjustScalarBytes:lr,randomBytes:tn});function mn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function qt(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function bt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function nt(e,...t){if(!mn(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function we(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function yn(e,t){nt(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ut(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function dt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function hr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}var ur=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function dr(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function te(e){if(typeof e=="string")e=dr(e);else if(mn(e))e=ee(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function xn(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function wn(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}var Ee=(e,t)=>{function n(r,...o){if(nt(r),!ur)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){let k=o[0];if(!k)throw new Error("nonce / iv required");e.varSizeNonce?nt(k):nt(k,e.nonceLength)}let a=e.tagLength;a&&o[1]!==void 0&&nt(o[1]);let f=t(r,...o),l=(k,S)=>{if(S!==void 0){if(k!==2)throw new Error("cipher output not supported");nt(S)}},E=!1;return{encrypt(k,S){if(E)throw new Error("cannot encrypt() twice with same key + nonce");return E=!0,nt(k),l(f.encrypt.length,S),f.encrypt(k,S)},decrypt(k,S){if(nt(k),a&&k.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return l(f.decrypt.length,S),f.decrypt(k,S)}}}return Object.assign(n,e),n};function ve(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!pr(t))throw new Error("invalid output, must be aligned");return t}function gn(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),a=BigInt(4294967295),f=Number(n>>o&a),l=Number(n&a),E=r?4:0,L=r?0:4;e.setUint32(t+E,f,r),e.setUint32(t+L,l,r)}function En(e,t,n){qt(n);let r=new Uint8Array(16),o=hr(r);return gn(o,0,BigInt(t),n),gn(o,8,BigInt(e),n),r}function pr(e){return e.byteOffset%4===0}function ee(e){return Uint8Array.from(e)}var An=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),gr=An("expand 16-byte k"),mr=An("expand 32-byte k"),yr=ut(gr),xr=ut(mr);function W(e,t){return e<<t|e>>>32-t}function Ae(e){return e.byteOffset%4===0}var ne=64,wr=16,Bn=2**32-1,vn=new Uint32Array;function Er(e,t,n,r,o,a,f,l){let E=o.length,L=new Uint8Array(ne),k=ut(L),S=Ae(o)&&Ae(a),G=S?ut(o):vn,H=S?ut(a):vn;for(let M=0;M<E;f++){if(e(t,n,r,k,f,l),f>=Bn)throw new Error("arx: counter overflow");let V=Math.min(ne,E-M);if(S&&V===ne){let T=M/4;if(M%4!==0)throw new Error("arx: invalid block position");for(let i=0,B;i<wr;i++)B=T+i,H[B]=G[B]^k[i];M+=ne;continue}for(let T=0,i;T<V;T++)i=M+T,a[i]=o[i]^L[T];M+=V}}function Be(e,t){let{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:a,rounds:f}=xn({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return bt(o),bt(f),qt(a),qt(n),(l,E,L,k,S=0)=>{nt(l),nt(E),nt(L);let G=L.length;if(k===void 0&&(k=new Uint8Array(G)),nt(k),bt(S),S<0||S>=Bn)throw new Error("arx: counter overflow");if(k.length<G)throw new Error(`arx: output (${k.length}) is shorter than data (${G})`);let H=[],M=l.length,V,T;if(M===32)H.push(V=ee(l)),T=xr;else if(M===16&&n)V=new Uint8Array(32),V.set(l),V.set(l,16),T=yr,H.push(V);else throw new Error(`arx: invalid 32-byte key, got length=${M}`);Ae(E)||H.push(E=ee(E));let i=ut(V);if(r){if(E.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(T,i,ut(E.subarray(0,16)),i),E=E.subarray(16)}let B=16-o;if(B!==E.length)throw new Error(`arx: nonce must be ${B} or 16 bytes`);if(B!==12){let m=new Uint8Array(12);m.set(E,a?0:12-E.length),E=m,H.push(E)}let N=ut(E);return Er(e,T,i,N,L,k,S,f),dt(...H),k}}var et=(e,t)=>e[t++]&255|(e[t++]&255)<<8,Se=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=te(t),nt(t,32);let n=et(t,0),r=et(t,2),o=et(t,4),a=et(t,6),f=et(t,8),l=et(t,10),E=et(t,12),L=et(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|a<<9)&8191,this.r[4]=(a>>>4|f<<12)&255,this.r[5]=f>>>1&8190,this.r[6]=(f>>>14|l<<2)&8191,this.r[7]=(l>>>11|E<<5)&8065,this.r[8]=(E>>>8|L<<8)&8191,this.r[9]=L>>>5&127;for(let k=0;k<8;k++)this.pad[k]=et(t,16+2*k)}process(t,n,r=!1){let o=r?0:2048,{h:a,r:f}=this,l=f[0],E=f[1],L=f[2],k=f[3],S=f[4],G=f[5],H=f[6],M=f[7],V=f[8],T=f[9],i=et(t,n+0),B=et(t,n+2),N=et(t,n+4),m=et(t,n+6),I=et(t,n+8),h=et(t,n+10),U=et(t,n+12),s=et(t,n+14),u=a[0]+(i&8191),c=a[1]+((i>>>13|B<<3)&8191),R=a[2]+((B>>>10|N<<6)&8191),d=a[3]+((N>>>7|m<<9)&8191),v=a[4]+((m>>>4|I<<12)&8191),C=a[5]+(I>>>1&8191),J=a[6]+((I>>>14|h<<2)&8191),_=a[7]+((h>>>11|U<<5)&8191),F=a[8]+((U>>>8|s<<8)&8191),z=a[9]+(s>>>5|o),P=0,O=P+u*l+c*(5*T)+R*(5*V)+d*(5*M)+v*(5*H);P=O>>>13,O&=8191,O+=C*(5*G)+J*(5*S)+_*(5*k)+F*(5*L)+z*(5*E),P+=O>>>13,O&=8191;let Q=P+u*E+c*l+R*(5*T)+d*(5*V)+v*(5*M);P=Q>>>13,Q&=8191,Q+=C*(5*H)+J*(5*G)+_*(5*S)+F*(5*k)+z*(5*L),P+=Q>>>13,Q&=8191;let g=P+u*L+c*E+R*l+d*(5*T)+v*(5*V);P=g>>>13,g&=8191,g+=C*(5*M)+J*(5*H)+_*(5*G)+F*(5*S)+z*(5*k),P+=g>>>13,g&=8191;let y=P+u*k+c*L+R*E+d*l+v*(5*T);P=y>>>13,y&=8191,y+=C*(5*V)+J*(5*M)+_*(5*H)+F*(5*G)+z*(5*S),P+=y>>>13,y&=8191;let p=P+u*S+c*k+R*L+d*E+v*l;P=p>>>13,p&=8191,p+=C*(5*T)+J*(5*V)+_*(5*M)+F*(5*H)+z*(5*G),P+=p>>>13,p&=8191;let w=P+u*G+c*S+R*k+d*L+v*E;P=w>>>13,w&=8191,w+=C*l+J*(5*T)+_*(5*V)+F*(5*M)+z*(5*H),P+=w>>>13,w&=8191;let b=P+u*H+c*G+R*S+d*k+v*L;P=b>>>13,b&=8191,b+=C*E+J*l+_*(5*T)+F*(5*V)+z*(5*M),P+=b>>>13,b&=8191;let st=P+u*M+c*H+R*G+d*S+v*k;P=st>>>13,st&=8191,st+=C*L+J*E+_*l+F*(5*T)+z*(5*V),P+=st>>>13,st&=8191;let X=P+u*V+c*M+R*H+d*G+v*S;P=X>>>13,X&=8191,X+=C*k+J*L+_*E+F*l+z*(5*T),P+=X>>>13,X&=8191;let tt=P+u*T+c*V+R*M+d*H+v*G;P=tt>>>13,tt&=8191,tt+=C*S+J*k+_*L+F*E+z*l,P+=tt>>>13,tt&=8191,P=(P<<2)+P|0,P=P+O|0,O=P&8191,P=P>>>13,Q+=P,a[0]=O,a[1]=Q,a[2]=g,a[3]=y,a[4]=p,a[5]=w,a[6]=b,a[7]=st,a[8]=X,a[9]=tt}finalize(){let{h:t,pad:n}=this,r=new Uint16Array(10),o=t[1]>>>13;t[1]&=8191;for(let l=2;l<10;l++)t[l]+=o,o=t[l]>>>13,t[l]&=8191;t[0]+=o*5,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,r[0]=t[0]+5,o=r[0]>>>13,r[0]&=8191;for(let l=1;l<10;l++)r[l]=t[l]+o,o=r[l]>>>13,r[l]&=8191;r[9]-=8192;let a=(o^1)-1;for(let l=0;l<10;l++)r[l]&=a;a=~a;for(let l=0;l<10;l++)t[l]=t[l]&a|r[l];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let f=t[0]+n[0];t[0]=f&65535;for(let l=1;l<8;l++)f=(t[l]+n[l]|0)+(f>>>16)|0,t[l]=f&65535;dt(r)}update(t){we(this),t=te(t),nt(t);let{buffer:n,blockLen:r}=this,o=t.length;for(let a=0;a<o;){let f=Math.min(r-this.pos,o-a);if(f===r){for(;r<=o-a;a+=r)this.process(t,a);continue}n.set(t.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){dt(this.h,this.r,this.buffer,this.pad)}digestInto(t){we(this),yn(t,this),this.finished=!0;let{buffer:n,h:r}=this,{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let f=0;f<8;f++)t[a++]=r[f]>>>0,t[a++]=r[f]>>>8;return t}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}};function vr(e){let t=(r,o)=>e(o).update(te(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}var Sn=vr(e=>new Se(e));function Ln(e,t,n,r,o,a=20){let f=e[0],l=e[1],E=e[2],L=e[3],k=t[0],S=t[1],G=t[2],H=t[3],M=t[4],V=t[5],T=t[6],i=t[7],B=o,N=n[0],m=n[1],I=n[2],h=f,U=l,s=E,u=L,c=k,R=S,d=G,v=H,C=M,J=V,_=T,F=i,z=B,P=N,O=m,Q=I;for(let y=0;y<a;y+=2)h=h+c|0,z=W(z^h,16),C=C+z|0,c=W(c^C,12),h=h+c|0,z=W(z^h,8),C=C+z|0,c=W(c^C,7),U=U+R|0,P=W(P^U,16),J=J+P|0,R=W(R^J,12),U=U+R|0,P=W(P^U,8),J=J+P|0,R=W(R^J,7),s=s+d|0,O=W(O^s,16),_=_+O|0,d=W(d^_,12),s=s+d|0,O=W(O^s,8),_=_+O|0,d=W(d^_,7),u=u+v|0,Q=W(Q^u,16),F=F+Q|0,v=W(v^F,12),u=u+v|0,Q=W(Q^u,8),F=F+Q|0,v=W(v^F,7),h=h+R|0,Q=W(Q^h,16),_=_+Q|0,R=W(R^_,12),h=h+R|0,Q=W(Q^h,8),_=_+Q|0,R=W(R^_,7),U=U+d|0,z=W(z^U,16),F=F+z|0,d=W(d^F,12),U=U+d|0,z=W(z^U,8),F=F+z|0,d=W(d^F,7),s=s+v|0,P=W(P^s,16),C=C+P|0,v=W(v^C,12),s=s+v|0,P=W(P^s,8),C=C+P|0,v=W(v^C,7),u=u+c|0,O=W(O^u,16),J=J+O|0,c=W(c^J,12),u=u+c|0,O=W(O^u,8),J=J+O|0,c=W(c^J,7);let g=0;r[g++]=f+h|0,r[g++]=l+U|0,r[g++]=E+s|0,r[g++]=L+u|0,r[g++]=k+c|0,r[g++]=S+R|0,r[g++]=G+d|0,r[g++]=H+v|0,r[g++]=M+C|0,r[g++]=V+J|0,r[g++]=T+_|0,r[g++]=i+F|0,r[g++]=B+z|0,r[g++]=N+P|0,r[g++]=m+O|0,r[g++]=I+Q|0}function Ar(e,t,n,r){let o=e[0],a=e[1],f=e[2],l=e[3],E=t[0],L=t[1],k=t[2],S=t[3],G=t[4],H=t[5],M=t[6],V=t[7],T=n[0],i=n[1],B=n[2],N=n[3];for(let I=0;I<20;I+=2)o=o+E|0,T=W(T^o,16),G=G+T|0,E=W(E^G,12),o=o+E|0,T=W(T^o,8),G=G+T|0,E=W(E^G,7),a=a+L|0,i=W(i^a,16),H=H+i|0,L=W(L^H,12),a=a+L|0,i=W(i^a,8),H=H+i|0,L=W(L^H,7),f=f+k|0,B=W(B^f,16),M=M+B|0,k=W(k^M,12),f=f+k|0,B=W(B^f,8),M=M+B|0,k=W(k^M,7),l=l+S|0,N=W(N^l,16),V=V+N|0,S=W(S^V,12),l=l+S|0,N=W(N^l,8),V=V+N|0,S=W(S^V,7),o=o+L|0,N=W(N^o,16),M=M+N|0,L=W(L^M,12),o=o+L|0,N=W(N^o,8),M=M+N|0,L=W(L^M,7),a=a+k|0,T=W(T^a,16),V=V+T|0,k=W(k^V,12),a=a+k|0,T=W(T^a,8),V=V+T|0,k=W(k^V,7),f=f+S|0,i=W(i^f,16),G=G+i|0,S=W(S^G,12),f=f+S|0,i=W(i^f,8),G=G+i|0,S=W(S^G,7),l=l+E|0,B=W(B^l,16),H=H+B|0,E=W(E^H,12),l=l+E|0,B=W(B^l,8),H=H+B|0,E=W(E^H,7);let m=0;r[m++]=o,r[m++]=a,r[m++]=f,r[m++]=l,r[m++]=T,r[m++]=i,r[m++]=B,r[m++]=N}var Br=Be(Ln,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Sr=Be(Ln,{counterRight:!1,counterLength:8,extendNonceFn:Ar,allowShortKeys:!1});var Tr=new Uint8Array(16),Tn=(e,t)=>{e.update(t);let n=t.length%16;n&&e.update(Tr.subarray(n))},kr=new Uint8Array(32);function kn(e,t,n,r,o){let a=e(t,n,kr),f=Sn.create(a);o&&Tn(f,o),Tn(f,r);let l=En(r.length,o?o.length:0,!0);f.update(l);let E=f.digest();return dt(a,l),E}var In=e=>(t,n,r)=>({encrypt(a,f){let l=a.length;f=ve(l+16,f,!1),f.set(a);let E=f.subarray(0,-16);e(t,n,E,E,1);let L=kn(e,t,n,E,r);return f.set(L,l),dt(L),f},decrypt(a,f){f=ve(a.length-16,f,!1);let l=a.subarray(0,-16),E=a.subarray(-16),L=kn(e,t,n,l,r);if(!wn(E,L))throw new Error("invalid tag");return f.set(a.subarray(0,-16)),e(t,n,f,f,1),dt(L),f}}),Ot=Ee({blockSize:64,nonceLength:12,tagLength:16},In(Br)),Js=Ee({blockSize:64,nonceLength:24,tagLength:16},In(Sr));"BigInt"in globalThis||(globalThis.BigInt=e=>e);var Lr=e=>Uint8Array.from((e.match(/.{1,2}/g)||[]).map(t=>parseInt(t,16)));var Rt=class{constructor(t){this.message=t}},It,pt=class pt{constructor(t,n){xt(this,It);let r=new Uint8Array(t),o=pt.headerLength(t);if(r.length!=o)throw new Error(`incomplete HAX header, want ${o}, got ${r.length} (${r.subarray(0,32)})`);this.fileLength=pt.uint32(r,4),this.headerLength=pt.uint32(r,8),this.extraLength=pt.uint32(r,12),this.meta=Et.decode(r.subarray(16,this.headerLength)),this.ext={},this.baseKey=gt(this.meta.baseKey),this.segments=[];for(let a=0;a<this.meta.segmentCount;a++)this.segments.push({off:pt.uint32(this.meta.segments,8*a),pts:pt.uint32(this.meta.segments,8*a+4)});this.segments.push({off:this.fileLength,pts:this.meta.durationMs}),wt(this,It,new Map),this.addKeys(n),console.log(this.baseKey,this.meta.segmentCount)}addKeys(t){for(let[n,r]of Object.entries(t))$(this,It).set(+n,Lr(r))}handleExtra(t){let n=this.decode(-1,t);this.ext=Et.decode(n)}segmentTs(t){return t<0||t>=this.segments.length?0:this.segments[t].pts/1e3}segmentBounds(t){return t<0||t>=this.segments.length-1?null:[this.segments[t].off,this.segments[t+1].off]}segmentFromTs(t){t=t*1e3|0;for(let[n,r]of this.segments.entries())if(r.pts>=t)return n;return-1}missingSegments(t,n,r){t=t*1e3|0,n=n*1e3|0;let o=0,a=-1;for(let[f,l]of this.segments.entries())l.pts<=t&&(o=f),l.pts>n&&a==-1&&(a=f);for(a==-1&&(a=this.segments.length-2);o<=a&&r.has(o);)o++;for(let f=o;f<=a;f++)if(r.has(f)){a=f-1;break}return a==-1&&(a=this.segments.length-2),o<=a?[o,a]:[-1,-1]}deriveKey(t){let n=Math.ceil(Math.log2(t)),r=0,o=null;for(let a=0;a<=n;a++){let f=$(this,It).get(t>>n-a);if(f){r=a,o=f;break}}if(o===null)throw new Rt("no applicable key available");for(let a=r+1;a<=n;a++)o=At.create().update(o).update(Uint8Array.from([t>>n-a])).digest();return o}decode(t,n){let o=1+(1<<Math.ceil(Math.log2(this.segments.length))+1),a=this.deriveKey(o+t);return Ot(a,new Uint8Array(12)).decrypt(new Uint8Array(n))}static headerLength(t){return pt.uint32(new Uint8Array(t),8)}static uint32(t,n){return t[n]+(t[n+1]<<8)+(t[n+2]<<16)+(t[n+3]<<24)}};It=new WeakMap;var Ut=pt;var _e;{let e=function(){},t=function(i){return D[i<196?i<196?i-5:i+98:i+89]},n=function(i,B){return Te(i,t(10),{value:B,configurable:!0})},r=function(){return globalThis},o=function(){return global},a=function(){return window},f=function(){return new Function("return this")()},l=function(i=[r,o,a,f],B,N=[],m,I){B=B;try{B=Object,N[t(29)]("".__proto__.constructor.name)}catch{}t:for(m=t(15);m<i[t(10)];m++)try{for(B=i[m](),I=t(15);I<N[t(10)];I++){var h=T(U=>D[U<-35?U-96:U>-35?U<157?U+34:U-96:U+31],1);if(typeof B[N[I]]===h(-27))continue t}return B}catch{}return B||this},E=function(...i){var B=T(I=>D[I<236?I-45:I-63],1);if(i[t(10)]=B(56),i[t(11)]=B(71),typeof Pt!==t(12)&&Pt){var N=T(I=>D[I<-65?I+65:I>-65?I<127?I<-65?I-99:I+64:I-83:I-87],1);return new Pt().decode(new ke(i[N(-54)]))}else if(typeof Wt!==t(12)&&Wt){var m=T(I=>D[I<85?I+66:I<85?I+76:I-86],1);return Wt.from(i[m(96)]).toString("utf-8")}else return Ie(i[i[B(51)]-B(71)])},L=function(...i){return i[i[x(t(87))]-t(16)]},k=function(...i){switch(i[t(10)]=t(14),i[t(47)]=t(55),i[t(11)]=[x(t(89))],i[t(21)]=i[i[t(47)]-t(88)],at){case(A.c[x(t(89))](t(15))!=t(49)?null:-t(90)):return i[t(15)]-i[t(21)];case(A.e[x(t(89))](t(15))==t(44)?-t(107):t(34)):return-i[i[t(47)]-t(55)];case(A.c[x(t(89))](t(15))!=t(49)?-t(106):t(108)):return+i[i[t(47)]-t(55)];case(A.e[i[t(11)][t(15)]](t(15))==t(44)?t(98):t(141)):return!i[i[t(47)]-t(55)];case(A.e[x(i[t(47)]-t(91))](t(15))==t(44)?i[t(47)]+t(89):t(110)):return i[t(15)]+i[t(21)];case(A.e[x(t(89))](t(15))==t(44)?-t(30):t(34)):return typeof i[t(15)]}},S=function(...i){return i[t(10)]=t(16),i[t(92)]=i[t(15)],L(i[t(92)]=at+(at=i[t(92)],t(15)),i[t(92)])},H=function(...i){var B;switch(i[t(10)]=t(16),i[t(154)]=t(143),B=n((...m)=>{if(m[t(10)]=t(18),m[t(145)]=-t(146),typeof m[t(28)]===t(12)&&(m[t(28)]=N),m[t(144)]=m[t(14)],typeof m[t(13)]===t(12)&&(m[t(13)]=q),m[m[t(145)]+t(146)]!==m[t(16)])return m[t(13)][m[t(15)]]||(m[t(13)][m[m[m[t(145)]+t(147)]+t(146)]]=m[t(28)](rt[m[t(15)]]));if(m[m[t(145)]-(m[t(145)]-t(28))]===B)return N=m[m[m[t(145)]+t(147)]+t(148)],N(m[t(144)]);if(m[t(16)])return[m[t(13)],m[m[t(145)]+t(148)]]=[m[t(28)](m[m[t(145)]+141]),m[t(15)]||m[m[t(145)]+t(149)]],B(m[m[t(145)]+t(146)],m[t(13)],m[t(144)]);if(m[m[t(145)]+t(149)]==m[t(15)])return m[t(16)][q[m[t(144)]]]=B(m[t(15)],m[t(16)])},t(18)),i[t(21)]=x(t(83)),i[t(49)]=x(t(150)),i[t(18)]=[x(t(151)),x[t(45)](t(34),t(152))],i[t(25)]=x[t(45)](t(34),t(153)),i[i[t(154)]-t(174)]=x(t(155)),i[t(52)]={[t(62)]:x(t(156)),[t(165)]:x(t(157))},i[t(50)]=x(t(150)),i[t(158)]=t(34),i[t(15)]){case(A.c[i[t(50)]](t(15))==t(49)?-t(159):null):return K[i[t(52)][t(62)]];case(A.i()?t(99):-t(160)):return K[i[t(30)]];case(A.k>-t(88)?-t(161):t(34)):return K[x(t(162))];case(A.i()?t(131):-t(144)):return K[x[t(80)](t(34),[t(191)])];case(A.l()?t(163):t(35)):i[t(158)]=x(t(164))||K[x(t(164))];break;case(A.p()?-t(115):t(34)):i[t(158)]=x[t(80)](t(34),[t(24)])||K[x[t(80)](t(34),[t(24)])];break;case(A.n()?-t(125):t(34)):i[t(158)]=x(t(157))||K[i[t(52)][t(165)]];break;case(A.c[x(i[t(154)]-t(166))](t(15))!=t(49)?t(79):t(167)):return K[x(t(111))];case(A.r()?t(81):247):return K[x(t(168))+t(172)];case(A.g[x(t(150))](t(15))==t(43)?305:-t(65)):i[t(158)]=i[t(25)]+x(t(151))||K[x(t(153))+i[i[t(154)]-(i[t(154)]-t(18))][t(15)]];break;case(A.c[x(i[t(154)]-t(166))](t(15))!=t(49)?-t(75):t(114)):i[i[t(154)]-t(78)]=x(i[t(154)]-t(40))||K[x(t(116))];break;case(A.i()?970:t(169)):return K[x[t(80)](t(34),[t(117)])];case(A.l()?i[t(154)]+3018:i[t(154)]-123):return K[x(t(106))+t(177)];case(A.e[i[t(49)]](t(15))==t(44)?715:-t(17)):i[t(158)]=x[t(45)](t(34),t(152))||K[i[t(18)][t(16)]];break;case(A.k>-t(88)?1871:-191):i[t(158)]=x(t(121))||K[x(t(121))];break;case(A.l()?3125:t(71)):return K[x(t(170))+"pe"];case(A.c[x[t(45)](t(34),t(150))](t(15))==t(49)?4968:t(192)):return K[x(t(123))+x(t(171))+x[t(80)](t(34),[t(40)])];case(A.a()?691:-t(133)):return K[x(t(77))+x(t(142))];case(A.e[x[t(80)](t(34),[t(150)])](t(15))!=t(44)?-t(169):3250):return K[x(t(33))+t(172)];case(A.n()?779:t(81)):return K[x(t(39))+x(t(22))];case(A.l()?4689:173):i[t(158)]=x(t(173))||K[x(t(173))];break;case(A.p()?t(91):t(174)):i[t(158)]=x(t(175))||K[x[t(45)](t(34),t(175))];break;case(A.e[x(t(150))](t(15))==t(44)?4555:-(i[t(154)]+t(102))):i[t(158)]=x(t(176))+t(177)||K[x[t(45)](t(34),t(176))+t(177)];break;case(A.n()?1172:-t(95)):return K[B(86)];case(A.t>t(14)?946:t(178)):i[t(158)]=x(t(179))+B(t(65))||K[x(t(179))+B(i[t(154)]-(i[t(154)]-t(65)))];break;case(A.k>-t(88)?4973:-t(83)):return K[x(t(166))+B(90)+"or"];case(A.i()?4347:-t(85)):return K[B[t(80)](t(34),[t(63)])+B(t(186))];case(A.k>-t(88)?2104:i[t(154)]-t(17)):i[t(158)]=x(t(180))+B[t(80)](t(34),[t(65)])||K[x(t(180))+B(t(65))];break;case(A.r()?4033:-t(61)):i[t(158)]=B(t(182))+x(t(181))||K[B(t(182))+x(t(181))];break;case(A.l()?2863:-t(183)):return K[B[t(80)](t(34),[t(184)])+x(t(185))];case(A.n()?291:166):i[t(158)]=x(t(83))+B[t(45)](t(34),t(82))||K[i[t(21)]+B(t(82))];break;case(A.c[x(t(150))](i[t(154)]-t(143))!=t(49)?-t(160):2294):return K[B(t(84))+x(101)+t(165)];case(A.i()?1968:-(i[t(154)]-t(186))):i[t(158)]=B(t(132))+x(t(187))||K[B(t(132))+x(t(187))];break;case(A.l()?1444:-t(151)):return K[B(t(84))+B(t(188))+t(189)];case(A.i()?3824:-222):return K[B(i[t(154)]-t(71))+B(106)+"sk"];case(A.p()?1146:t(90)):return K[B[t(80)](t(34),[t(72)])];case(A.l()?5054:-t(129)):return K[B[t(45)](t(34),108)+t(189)];case(A.r()?4551:213):return K[x(t(190))];case(A.r()?3714:t(191)):return K[x(110)];case(A.t>t(14)?5208:-(i[t(154)]-t(17))):i[t(158)]=x(t(192))||K[x(t(192))];break;case(A.r()?i[t(154)]+1929:t(132)):i[t(158)]=x(t(57))||K[x[t(80)](t(34),[t(57)])];break;case(A.k>-t(88)?4924:-t(178)):return K[B(t(60))]}return i[t(154)]>263?i[t(150)]:K[i[t(158)]];function N(...m){var I;for(m[t(10)]=t(16),m[t(48)]=t(126),m[t(11)]='2CHsqjWO6fk0D{^i/=<!_NEKv?w"~b*Bx#7r@hPlM&ZSaI>3.G;:m,on+)FTtzu5pc1RY`e$QdU(LV}|J4g[]y9A8%X',m[t(62)]=-t(190),m[t(47)]=""+(m[t(15)]||""),m[t(21)]=m[t(47)].length,m[t(165)]=m[m[t(62)]+t(193)],m[m[t(48)]-t(119)]=[],m[t(165)]=t(15),m[t(44)]=t(15),m[t(30)]=-t(16),I=m[t(62)]+t(190);I<m[t(21)];I++)if(m[t(76)]=m[t(11)].indexOf(m[t(47)][I]),m[t(76)]!==-t(16))if(m[t(30)]<t(15))m[t(30)]=m[t(76)];else{m[t(30)]+=m[t(76)]*t(63),m[t(165)]|=m[t(30)]<<m[t(44)],m[t(44)]+=(m[m[t(48)]-t(113)]&m[t(48)]+8147)>m[t(48)]+t(126)?t(66):t(46);do m[m[t(48)]-t(119)].push(m[t(165)]&t(53)),m[t(165)]>>=t(52),m[t(44)]-=t(52);while(m[t(44)]>m[t(62)]+t(20));m[t(30)]=-t(16)}return m[t(30)]>-t(16)&&m[t(13)].push((m[t(165)]|m[t(30)]<<m[t(44)])&t(53)),m[t(62)]>t(127)?m[-t(28)]:E(m[t(13)])}},M=function(...i){var B;for(i[t(10)]=t(16),i[t(194)]=i[t(49)],i[t(11)]='zFqjLRITgyK5&6cA:s{=xB9$/nXJ)2M8C#7.O3iN<pQ~*Y;w14h_Wo]D`vrketG,bEVfS!"l+?U%Zm(PHd>au[^@0|}',i[t(27)]=-t(69),i[t(47)]=""+(i[t(15)]||""),i[t(165)]=t(129),i[t(28)]=i[t(47)].length,i[t(194)]=[],i[t(19)]=t(15),i[t(44)]=t(15),i[t(30)]=-t(16),B=t(15);B<i[t(28)];B++)if(i[t(76)]=i[t(11)].indexOf(i[t(47)][B]),i[t(76)]!==-t(16))if(i[t(30)]<i[t(27)]+t(69))i[i[t(27)]-(i[t(27)]-t(30))]=i[t(76)];else{i[t(30)]+=i[t(76)]*(i[t(165)]+t(116)),i[t(19)]|=i[t(30)]<<i[t(44)],i[t(44)]+=(i[i[t(165)]-t(87)]&t(64))>t(65)?t(66):t(46);do i[t(194)].push(i[t(19)]&t(53)),i[t(19)]>>=t(52),i[t(44)]-=t(52);while(i[t(44)]>t(30));i[t(30)]=-t(16)}return i[i[t(165)]-t(87)]>-t(16)&&i[t(194)].push((i[t(19)]|i[i[t(27)]+t(195)]<<i[t(44)])&t(53)),i[t(165)]>t(20)?i[i[t(27)]-t(55)]:E(i[i[t(165)]+202])},V=function(){return["$Axm(dXq","]$Woq;hq","AASR2","~~MTYH)q",")e6KX","length","a","undefined",4,2,0,1,119,5,"e",116,"c",82,17,63,6,"fromCodePoint",12,3,"push",7,46,179,80,void 0,175,256,118,252,81,77,158,55,"h","f","call",14,"b","j","d",9,"g",8,255,31,27,190,112,48,115,113,160,"k",91,8191,88,13,127,150,42,43,41,107,39,248,218,"i",78,136,131,"apply",170,99,98,100,153,149,15,26,16,18,11,54,19,144,126,188,244,29,20,28,34,32,133,33,35,71,45,56,219,193,65,36,37,38,207,69,70,172,40,135,73,"ng",75,50,966,44,23,47,22,null,569,102,205,51,185,52,!1,163,53,105,229,79,146,223,162,137,299,138,360,57,68,72,67,"n",59,58,64,10,603,165,688,60,899,62,"l",89,644,66,239,74,76,"nt",83,139,84,85,"on",216,87,93,95,94,195,96,97,92,103,104,"te",109,61,111,114,224,49]},T=function(i,B=0){var N=function(){return i(...arguments)};return Un(N,"length",{value:B,configurable:!0})};Un=Object.defineProperty,D=V(),Te=Object.defineProperty,q=[],rt=["cHsArZ+X","lF1Ur%sc","@@CQF#P","2tWDv",">Ofy4n@F","bO4V","v+p|]]BF","#)9|+fP",'F"LTd',"^$nZ3BM:","f^i]:R}:","c>)k%KO:","_$9|","+KGu*",">j1yJ",t(5),t(6),"V_i8mdxq",'38"yYMsvE,2kC+ANWKU]z:b6P$MkKr|OT3=X@8Jv_66A#.5J4)Bl;ntsWr$ctHS&Zg,"C`jFx_i4`1qioQE1CMW^oTPha;C&~Il"9];7s_91~.5JkX]n[Xdvwvdv?v!&!8!)^)a?{IJG7c~c@OgG*W<</Wp463Bvr1!)^)a?c7lc|H;cdg+_/W;</Wp4dnyX/x&XV/^&VM@U7c~c@O:]:i{W9W~{hn<=yX&l9].v>]Rr_.5J/MI2gh4_s_p4D.W.a9D"UXQ;q','(gy1uwe7s_ro~k#&pc71E/c<c&IDJ.!6IX@"b/Y_0Wi4?d!6%g(n`JEsxrN48.y6WI5CZ2sviW".#/%ceQ&ok2sv<Gfe(;;6`)xlf!(G3TpD</%cagilk2Qq}Tw{94C&i31_LhJ$s_nDF3qnk5]n1n6!;&Zh?v3&.3$Iinn$:I1,o4C&w)wnE/^&=JN4O1:XcxsjE/o,IrTKD;C&fGwIRhJ$s_)Gwkqnk5]nrJOH;&Zh?v!&F~$Iina?{Iuf&1L','Zg,"v2z;3_i4F3C&TxlnE/g^._~{JQ9XcxsjE/^&grTKD;C&~I1IRhJ$s_S"wkqnk5]nS2OH;&Zh?vQ6F~$Iina?7Iuf&1b&@OK1e7I/#_%hL/HAO&D"&Wtss_NW..5JT&]nv;Wk<Wq_8.5J622l;ntsWr3cEHS&ZglI:W7<7IN4rcTX{xsjE/%2LryKD;C&XywIIhJ$:IN4KrvOZgy1xXkswv9W?vU6Zg+_=W)<7IN4.jgXAxsjE/MWj6gKD;C&','acq2RhJ$s_k4""qnk5gjE/IU){N4L/Q6%g!)5X4PsPuVRZBNWKU]LLb6[!2kC/|Ov)=X[8Bv{bJEQ!%cx7S8JHw$QWi4Rt`Aj3njE/ks<cf2.r3&%gD"&Wfss_NW..Vii~DuN(qiD=4:3JM;Je?]*&b6,lij)[#Se~DuFC,PsPZVRZxNWKU]JAb6MXMkAJacln;lm22d0ch{).C&%gwIV/c<__N4dnTfZgX29W)<7IN4dna,!8$Iina?8PzAEHS&Zg+_SLlU;&Zh?vtS!2ol;ntsWrRuq','F~$Iina?c7mcdHS&ZgJU3s/Tw&Zh?vR*p_$Iina?[66+&1b&@OTshW1<7IN463ytdk$Iina?AP?ccdS&ZglInW]<7IN463yX)xsjE/^&VMoH&1b&r5D"wJ#.s_xT>vC&XyD"24Z}`"b/L/E_i4H&3&%gg_5Xa?=_i48k:)%gy1;nEss_(&).C&rsl"9]ks:INWn3C&/s{1E/>)Pvi4?vp6mgJUb/17hIt4J.e/nsD"KX*{s_xT^vC&$Ad1k2%s?T2kz',"FLHy","wKo+^c=D",t(7),t(5),t(6),".~gy","1v_Ckm/q","j{tK",'D]!h*H"WT',"Xev]Jl;q","mI(8>!hq",t(8),"V32KJ","q>{a}!#H",t(7),"pZ<sj!IH","UZ#R7C?H","T;HyO[z","H/E=<E5",t(8),"nn(=RJcH",t(9),"s~ao1,D[R","q0,yB!#vL","z4gMp,6wR","F)`(mptH",t(9),"<X1yCl;q","PYZXW","]lv]M(7q","2AM8^!xq","by1s.J5","9#|XamDH","hjF%%hmF",t(6),"YI(8>!hq","X~xm7(;MI","/]|_=","C__C#[z","ejBKX",":v_Ckm/q","vXby8(`q","O_Wm~Hz","J~98|Zxq","N~6K~]xq","E]TZ)lz","%7uoddz","X~E]5Uk%I",".~98md)q","8vJC/","Mv?]/","t<NZ[!&q",'Y<$Zv"xq',"W_@?9(Oq","N~=Crmhq","d7?]*S7q","N$lZ)","LLWm8lDF","LLWm8l4F",".~_g2","w_JC6UeMI","uQ+yMl>HI","mkxmmd)q","3:Qfly2","$l.C?1;q","&Sjk","0c;8pHxq","TfPB#J>H","cs_V~$3C","4:do~","kG_g%1;q","*iNkOU@H",")~2K2","V7PBMJVC","V3NZo>hq","MAfC_mhq","Y:[x_L2","V7PBMJnC","~vuoJa&q","*iRx}L@H",'#&"8mdxq',"eh[60UDH","btPBx$5C","ofmVJ4DH","no@b0n2","no5~TV~H","|cBK","ejHy","qATZerV/T","qATZ<]&qT","E$)o*}7H",'^xLU.tE.#{TS0k6N^7rCGm6pg6PdIt8$"SqR^YDFT','1xx2~"G;wB%{XRT',"J7^lOH(7kcxJ$Xo)JE,?#kz","#$s_mvz",'rG]?}?*rzV]ny:I/.&"L?G2=G,&Sch8QMeYKbO9q5x',"p12KCleUps",'rEvCwN{"ayX!)k}OGSOm|#m2G,dA5X~XV$C]2tk[6B','"3DytosF',"U16W~HOMkg","WYPZX[XW1Ac+2+&","3eiyc!H<5END}nVMcLp_/h_F","jBg(SoZ7kkV)*jp88;wL[hjdq&t{}d*i:F","!GmLn(@$d{@eA>o<E<iD`+pTh==J0lSMEGzI(!YTT",'PEOmHaF6tg&r4:^<MEsJ;"u^}xV`fcL~C_*Uge8p3=','ZG#+lO6p}5%{X4_7"z',"h<oKJ(1<mcUH8XCQa1`Iy^p60r_?Y6q~Hz",'$2nM338=vc}"6Og=^Nml7]:W9rE;;nGs&Lag3.~6t5uUF','"G(?*>z',"i~z]~>q/lr#/4e|2rk`4]oY!36k","H?$4c1~T~Ew!1eJQdY@]@#A=bA",'sI*K+O0&!]T_%"KXT.G)6Z;qwgqJt/T{`l4_Xi&bpEJTMR`7',"3UumO.uH;g[m.rPN/x+I}ks.pcl?UnM/8~JCB<,$R","1_X2/aK/qv@nR1y=t7gyS1BF",'+Yu2IOl_k5=jgA.s"_r2y!S;wV//8c)Q{2^L',"!_}2mUdp=]JP*LX)<EpC@a;&Go6%u.09~3sJbu6F=&e4F","XEF]G7#w!bQDClO{y<+y","<IAy2.%Fa][FLjR~L~Woyepwkc)T<w]<*E!DmOU7Pg3","A&]Wj;4pmon1;6Oi=2AyJ","xI]8uiNFvr8T8c/72$FM!U>WCe?9yO,$rE$4IGz","Gs(8LD66U5Vg)w}OT{s_]o}<Yk>nOJI{]z","kk>CZD9;h,sMul%nakP)Gr7/2B|;_rI",'Y$GDl7&/]bP"t/1J_Yby:GPP?semDJ(N8$g(&U7M~klLTh|2',"(80]v_z","n~>_D3IMgx;49R",'4]XJN4IrEvlH3L9)g$F_rm3,pE?9%"PJBl[lI!Gq',"XE;TaaxW*oDkAc5XU$(TYSOOqy","by`?~tbIWy!,B:RiKF","cCzy9[!pfvonIRpXpEUmGm*&]6","X;3L@(%6ekL]5XCQs]uR","B,ZlahIW)cIrNcj3",'8&`IbeDTN6uA"6{Nx&^)cO]WrE#Z^4k$2;[Z:W[s4ye',":_^).<z","gLwWJiD2TKdgXd!3VYx8|apT{y]LKtKX#]wWdZ,2avnGq3^9",'Ey7J%1@.4&l.xA{NiGp])lt%F,"nxk"n','LAaCJ."/G5317R','F]9DpHJ.Wy<s|O1XL,52:W"WavA3HJRn~SF',"w]DL_mPF%xt","N1/#Ai7WmcX/*l8s$E8MkP%pvcwkjiK","D$])slo2i63PeaVs~G2TS72vT6,nbJ[JC2j","._wIvuzQOyMcaiZiKS<I","UE}o$!z","o1!)8t=FeEX!S/6NS7(Wh>/Wd,%g2:g","nSW8md#!CV=1F:H<Y&FIBZ1MzV78:aTig;:M]u4=>v|R1j","Mv~+TPy=8{","F.MDIO&/I=Oj3:X)a?KJDmM&%`&1JcnQ9;YLS;CO|c<","Z`8L5^A6ir@98>_7GG$Wz1NF",'@"8Lw,E2byfBIROM`Xq','ux!Dz;4T4,gy/JO/z4y]N>Rd%Eq_]n2.GcEIsZfFyc@"[L',"eE2)Y.OWVAx+k>5n!1kKDr0SH{&+Sa7/C1=2D;IO8BJ","!8+Iy1Kb=vFqZawN+jy(w>PT.]n!&wk.!1{+)kmP1{%HF","#vqJniKOZk_80A.s|Q$#G1CO9rPF/j","9;2)D,s6C&MPst/7plH?itXb0rJTkiz~W]j","ICqJYSJ!S]e`Gdcx","52^Z|(<bIrL3n+h<BF",'lQwy"hu&FVMPFdB<YX1]5dtF',"XyAy+Zx^:{9P=>Ui","R$[hAh.,_=B1&kz{Z`r2B",",E}RTUz"],x=n((...i)=>{var B=T(c=>D[c>183?c+29:c>-9?c+8:c-21],1);if(i[t(10)]=B(5),i[t(11)]=i[B(15)],typeof i[B(-2)]===t(12)&&(i[t(11)]=M),typeof i[t(13)]===t(12)){var N=T(c=>D[c>-77?c<-77?c+77:c<115?c<-77?c-94:c+76:c-25:c+74],1);i[N(-68)]=q}if(i[B(4)]=i[t(13)],i[B(1)]==i[B(2)]){var m=T(c=>D[c>36?c>36?c-37:c-66:c+68],1);return i[t(16)][q[i[m(46)]]]=x(i[m(47)],i[m(48)])}if(i[B(-2)]===x){var I=T(c=>D[c<129?c+62:c+50],1);return M=i[I(-51)],M(i[B(1)])}if(i[t(16)]){var h=T(c=>D[c>280?c-9:c>280?c-54:c<280?c<280?c-89:c-5:c+15],1);return[i[h(101)],i[h(100)]]=[i[t(11)](i[B(4)]),i[h(99)]||i[h(98)]],x(i[t(15)],i[t(17)],i[t(14)])}if(i[B(1)]&&i[t(11)]!==M){var U=T(c=>D[c<-21?c+74:c<-21?c+68:c<171?c<-21?c-25:c+20:c-35],1);return x=M,x(i[U(-10)],-t(16),i[t(14)],i[U(-14)],i[B(4)])}if(i[B(1)]==i[t(11)]){var s=T(c=>D[c<193?c>193?c+10:c>193?c+40:c<193?c-2:c+26:c+84],1);return i[s(13)]?i[s(12)][i[B(4)][i[s(13)]]]:q[i[t(15)]]||(i[B(1)]=i[s(14)][i[t(15)]]||i[s(8)],q[i[B(2)]]=i[s(11)](rt[i[t(15)]]))}if(i[B(2)]!==i[B(3)]){var u=T(c=>D[c>208?c+91:c<208?c<208?c-17:c-68:c-3],1);return i[u(29)][i[t(15)]]||(i[t(17)][i[B(2)]]=i[t(11)](rt[i[t(15)]]))}},t(18)),Bt=l()||{},Pt=Bt.TextDecoder,ke=Bt.Uint8Array,Wt=Bt.Buffer,Gt=Bt.String||String,Le=Bt.Array||Array,Ie=T(()=>{var i,B,N;function m(I){return D[I<-84?I+60:I+83]}return i=new Le(128),B=Gt[m(-62)]||Gt.fromCharCode,N=[],n(T((...I)=>{var h;function U(v){return D[v>57?v-58:v+17]}I[t(10)]=t(16),I[U(72)]=-U(73);var s,u;for(I[t(21)]=I[I[U(72)]+t(20)][U(63)],I[U(72)]=-U(164),N[t(10)]=t(15),I[I[t(19)]+U(75)]=I[t(15)],h=U(68);h<I[t(21)];){var c=T(v=>D[v<48?v+99:v-49],1);if(u=I[U(76)][h++],u<=m(-21))s=u;else if(u<=t(144))s=(u&U(107))<<U(78)|I[I[U(72)]+t(22)][h++]&U(77);else if(u<=U(222)){var R=T(v=>D[v>49?v<49?v+59:v>49?v<241?v-50:v-49:v+74:v+94],1);s=(u&m(-1))<<m(-61)|(I[R(68)][h++]&U(77))<<t(25)|I[R(68)][h++]&t(24)}else if(Gt[U(79)]){var d=T(v=>D[v<201?v>201?v-13:v-10:v-31],1);s=(u&c(74))<<c(134)|(I[U(76)][h++]&d(29))<<t(27)|(I[U(76)][h++]&d(29))<<U(78)|I[I[t(19)]+U(75)][h++]&U(77)}else s=m(-64),h+=m(-60);N[c(73)](i[s]||(i[s]=B(s)))}return I[t(43)]=-t(100),I[t(19)]>t(30)?I[-t(133)]:N.join("")}),m(-72))})(),n(E,t(16)),Cn=x[t(45)](t(34),156),_n=x(t(85)),Ue=[x(t(23)),x(t(95))],Ce={[t(19)]:x(t(46)),m:x(t(79))},A=T((...i)=>{var B,N,m,I;function h(s){return D[s<65?s+6:s>257?s+58:s-66]}return i[t(10)]=t(15),i[t(42)]=i[t(44)],B=n((...s)=>{var u=T(C=>D[C<82?C+89:C<274?C-83:C+19],1);if(s[t(10)]=t(18),s[u(110)]=-u(118),typeof s[s[u(110)]+t(33)]===u(90)){var c=T(C=>D[C>73?C<73?C+28:C-74:C-35],1);s[s[c(101)]+u(111)]=U}if(typeof s[u(91)]===t(12)&&(s[s[u(110)]+(s[s[u(110)]+u(114)]+u(119))]=q),s[t(35)]=s[s[u(110)]+h(138)],s[u(106)]===t(34)&&(B=s[t(13)]),s[u(99)]=s[u(106)],s[t(21)]===B)return U=s[u(113)],U(s[t(14)]);if(s[s[t(32)]+t(183)]=s[s[s[u(110)]+u(114)]+u(220)],s[u(115)]==s[u(93)]){var R=T(C=>D[C<85?C+40:C<85?C+18:C-86],1);return s[R(116)][q[s[t(37)]]]=B(s[R(96)],s[s[u(110)]+(s[t(32)]+329)])}if(s[s[u(110)]+(s[t(32)]+272)]==s[u(99)]){var d=T(C=>D[C<279?C<87?C+28:C>279?C-90:C>87?C-88:C+88:C-22],1);return s[t(35)]?s[u(93)][s[s[s[t(32)]+d(119)]+t(39)][s[s[d(115)]+d(121)]]]:q[s[t(15)]]||(s[s[t(32)]-(s[t(32)]-d(120))]=s[d(96)][s[d(98)]]||s[u(99)],q[s[d(98)]]=s[u(115)](rt[s[d(98)]]))}if(s[t(35)]){var v=T(C=>D[C>78?C>270?C+61:C<78?C-27:C-79:C-14],1);return[s[t(13)],s[s[v(106)]+v(112)]]=[s[v(95)](s[s[u(110)]+u(117)]),s[s[v(106)]+v(114)]||s[u(115)]],B(s[v(89)],s[s[t(32)]+(s[u(110)]+u(119))],s[u(115)])}if(s[u(93)]!==s[u(113)])return s[t(13)][s[t(15)]]||(s[t(13)][s[u(93)]]=s[t(21)](rt[s[s[u(110)]+t(40)]]))},t(18)),N=B(t(15)),m={[t(11)]:B(t(15)),[h(108)]:B(h(76))},I=[B(h(76))],i[t(42)]={c:t(49),g:h(104),j:[],k:t(69),i:T((s=I[h(76)])=>{if(!A.j[h(76)]){var u=T(c=>D[c>97?c+57:c>97?c-17:c>-95?c<-95?c-63:c+94:c+43],1);A.j.push(-u(-72))}return A.j[s]}),b:[],e:t(44),a:T((s=B[t(45)](t(34),h(76)))=>(A.b[h(76)]||A.b.push(t(157)),A.b[s])),m:[],l:T((s=m[t(11)])=>(A.m[t(15)]||A.m.push(h(107)),A.m[s])),o:[],n:T((s=B[h(106)](t(34),t(15)))=>{var u=T(c=>D[c<238?c>46?c<238?c-47:c-34:c+38:c-66],1);return A.o[u(57)]||A.o.push(-u(198)),A.o[s]}),q:[],p:T((s=m[h(108)])=>{var u=T(c=>D[c<20?c+90:c<20?c+42:c-21],1);return A.q[u(31)]||A.q.push(t(93)),A.q[s]}),s:[],r:T((s=N)=>(A.s[h(76)]||A.s.push(h(225)),A.s[s])),t:h(83)},i[h(103)];function U(...s){var u;function c(_){return D[_<114?_+77:_+48]}for(s[h(71)]=c(-66),s[c(-34)]=s[h(77)],s[t(48)]=':LXKVBDoWjbqekhHG_Sus|?cv3+7]Mp!(z8t0FIYgP<RQ.^CfE%2~w4#O*5T[l`d>1y}mJ@xN9a&UAr;iZn{/"6$)=,',s[h(108)]=""+(s[t(15)]||""),s[c(-61)]=s[c(-35)].length,s[h(110)]=[],s[c(-63)]=t(15),s[t(44)]=h(76),s[h(112)]=-t(16),u=h(76);u<s[t(21)];u++){var R=T(_=>D[_<149?_>149?_-86:_>149?_-0:_>149?_-46:_+42:_+18],1);if(s[c(-32)]=s[h(109)].indexOf(s[c(-35)][u]),s[c(-32)]!==-R(-31))if(s[c(-31)]<c(-67)){var d=T(_=>D[_<62?_+72:_<62?_-97:_-63],1);s[d(109)]=s[R(3)]}else{var v=T(_=>D[_>-70?_+69:_-40],1);s[v(-23)]+=s[R(3)]*h(124),s[c(-63)]|=s[c(-31)]<<s[t(44)],s[t(44)]+=(s[t(51)]&R(17))>t(65)?h(127):h(107);do{var C=T(_=>D[_>224?_-6:_>32?_<32?_+35:_>224?_+58:_-33:_+51],1);s[h(110)].push(s[t(19)]&C(81)),s[t(19)]>>=v(-22),s[R(-3)]-=C(80)}while(s[v(-30)]>c(-52));s[R(4)]=-h(77)}}if(s[h(112)]>-t(16)){var J=T(_=>D[_>215?_+68:_>23?_-24:_+40],1);s[h(110)].push((s[t(19)]|s[J(70)]<<s[h(105)])&J(72))}return E(s[c(-33)])}})(),Ir=(function(i){i=n((...s)=>{var u=T(v=>D[v<203?v>203?v+7:v-12:v+96],1);if(s[u(17)]=u(25),s[t(11)]=t(54),typeof s[u(35)]===t(12)&&(s[t(28)]=U),typeof s[t(13)]===u(19)&&(s[t(13)]=q),s[s[u(18)]-(s[u(18)]-t(56))]=-t(57),s[t(15)]!==s[u(23)]){var c=T(v=>D[v>-20?v<172?v>-20?v>-20?v+19:v-25:v+27:v-25:v-6],1);return s[s[c(-13)]-u(62)][s[t(15)]]||(s[u(20)][s[u(22)]]=s[u(35)](rt[s[s[t(11)]-c(30)]]))}if(s[t(21)]=s[u(35)],s[t(14)]&&s[u(28)]!==U){var R=T(v=>D[v>96?v-25:v+95],1);return i=U,i(s[R(-85)],-t(16),s[R(-86)],s[t(21)],s[s[u(18)]-u(62)])}if(s[t(14)]==s[u(28)]){var d=T(v=>D[v>-58?v>-58?v<-58?v-79:v<134?v+57:v+86:v+47:v+31],1);return s[u(23)]?s[d(-47)][s[u(20)][s[s[t(56)]+u(67)]]]:q[s[d(-47)]]||(s[u(21)]=s[t(13)][s[u(22)]]||s[d(-41)],q[s[s[d(-51)]-d(-8)]]=s[t(14)](rt[s[u(22)]]))}},t(18));function B(){return globalThis}function N(){return global}function m(){return window}function I(...s){var u;function c(d){return D[d>126?d-89:d>126?d-21:d<-66?d-64:d<126?d+65:d-59]}return s[c(-60)]=t(15),s[t(51)]=124,u=n((...d)=>{var v=T(F=>D[F<146?F>146?F-3:F+45:F+63],1);if(d[c(-60)]=t(18),d[v(8)]=-c(-13),typeof d[d[t(58)]+v(9)]===t(12)){var C=T(F=>D[F<-34?F+13:F+33],1);d[C(-10)]=R}if(typeof d[d[d[c(-12)]+t(61)]+v(-30)]===v(-38)&&(d[d[t(58)]+t(20)]=q),d[c(-55)]!==d[v(-34)]){var J=T(F=>D[F<-20?F-83:F+19],1);return d[J(-11)][d[t(15)]]||(d[J(-11)][d[t(15)]]=d[d[t(58)]+c(-11)](rt[d[v(-35)]]))}if(d[d[c(-12)]-(d[c(-12)]-t(16))]){var _=T(F=>D[F>154?F-18:F>-38?F>154?F-64:F+37:F+92],1);return[d[d[v(8)]+(d[c(-12)]+228)],d[d[v(8)]+t(60)]]=[d[d[t(58)]+t(59)](d[t(13)]),d[d[v(8)]+c(-13)]||d[_(-28)]],u(d[c(-55)],d[d[v(8)]+c(-50)],d[d[d[t(58)]+t(61)]+t(193)])}if(d[c(-56)]==d[d[c(-12)]+v(7)])return d[t(16)][q[d[t(14)]]]=u(d[d[v(8)]+c(-13)],d[t(16)])},c(-52)),s[t(13)]=s[c(-56)],s[t(13)]={[t(21)]:u(c(-54))},s[t(51)]>237?s[-177]:new Function(s[c(-57)][c(-49)]+u(t(14)))();function R(...d){var v;function C(_){return D[_>234?_-6:_>42?_>234?_+22:_-43:_-57]}for(d[t(10)]=t(16),d[t(48)]=d[c(-20)],d[t(11)]='PucvhS<]NAE`8{=FXY[z9^yLa.nT)lxQU~6IHZsO;&7}"r?*>Jp:_Bt5@i3bRwCqD4G1+Vm/|dMW!K02%#g($ok,ejf',d[c(-8)]=c(-18),d[t(47)]=""+(d[d[t(62)]-(d[c(-8)]-c(-55))]||""),d[C(52)]=-C(121),d[t(28)]=d[c(-23)].length,d[c(-57)]=[],d[C(56)]=C(53),d[d[c(-56)]+t(188)]=t(15),d[C(68)]=-t(16),v=t(15);v<d[C(66)];v++)if(d[c(-22)]=d[C(49)].indexOf(d[C(85)][v]),d[C(86)]!==-c(-54))if(d[c(-40)]<C(53))d[c(-40)]=d[C(86)];else{d[t(30)]+=d[t(48)]*C(101),d[t(18)]|=d[C(68)]<<d[t(25)],d[c(-45)]+=(d[c(-40)]&t(64))>c(-5)?t(66):t(46);do{var J=T(_=>D[_>103?_-78:_+88],1);d[c(-57)].push(d[t(18)]&J(-40)),d[J(-75)]>>=c(-18),d[C(63)]-=J(-41)}while(d[c(-45)]>C(68));d[t(30)]=-c(-54)}return d[c(-40)]>-(d[t(14)]+C(120))&&d[c(-57)].push((d[c(-52)]|d[t(30)]<<d[c(-45)])&t(53)),d[c(-8)]>t(67)?d[-t(23)]:E(d[c(-57)])}}function h(s=[B,N,m,I],u,c,R,d=[],v,C,J,_,F,z,P){u=n((...g)=>{var y=T(w=>D[w>39?w>39?w>39?w-40:w-85:w+10:w-87],1);if(g[t(10)]=t(18),g[t(68)]=t(70),typeof g[t(28)]===t(12)&&(g[t(28)]=Q),typeof g[g[t(68)]-(g[t(68)]-t(13))]===t(12)&&(g[t(13)]=q),g[g[t(68)]-y(106)]==g[t(15)])return g[g[t(68)]-t(69)][q[g[t(14)]]]=u(g[g[t(68)]-t(70)],g[g[g[t(68)]+y(107)]-t(69)]);if(g[t(47)]=g[t(28)],g[y(51)])return[g[t(13)],g[y(51)]]=[g[t(47)](g[t(13)]),g[y(50)]||g[g[t(68)]-y(106)]],u(g[t(15)],g[t(13)],g[t(14)]);if(g[t(15)]!==g[t(16)])return g[y(48)][g[t(15)]]||(g[g[t(68)]-y(108)][g[y(50)]]=g[t(47)](rt[g[t(15)]]));if(g[y(82)]===y(69)&&(u=g[t(13)]),g[g[y(103)]-y(106)]==g[y(82)]){var p=T(w=>D[w>102?w-76:w>102?w+87:w<102?w<-90?w-2:w+89:w+63],1);return g[t(16)]?g[y(50)][g[g[g[t(68)]+t(72)]-t(73)][g[y(51)]]]:q[g[t(15)]]||(g[y(49)]=g[t(13)][g[g[t(68)]-y(105)]]||g[y(82)],q[g[y(50)]]=g[g[g[y(103)]+p(-22)]-p(-23)](rt[g[y(50)]]))}},t(18)),c=u(t(50)),R=R;try{let g=function(...y){var p;for(y[t(10)]=O(-84),y[O(-52)]=y[t(44)],y[O(-84)]='PjF<"3a/V)DLeW16R5,7pGl>rdv:2?8cT%4{^0Abm&Z+hqBuw!@}~=y_iU$Mt;JNCH#x9`Es.zkY(|nSf][QgXKIOo*',y[t(75)]=O(-78),y[O(-86)]=""+(y[O(-85)]||""),y[t(21)]=y[O(-86)].length,y[t(13)]=[],y[O(-81)]=O(-85),y[O(-52)]=t(15),y[O(-49)]=-(y[t(75)]-O(-61)),p=O(-85);p<y[t(21)];p++)if(y[t(76)]=y[y[y[O(-25)]+t(78)]-(y[t(75)]-t(16))].indexOf(y[y[t(75)]-O(-67)][p]),y[O(-24)]!==-O(-84))if(y[t(51)]<O(-85))y[O(-49)]=y[t(76)];else{var w=T(b=>D[b<6?b-52:b<198?b-7:b+98],1);y[O(-49)]+=y[O(-24)]*O(-37),y[O(-81)]|=y[t(51)]<<y[t(48)],y[O(-52)]+=(y[t(51)]&t(64))>t(65)?O(-34):y[t(75)]-(y[O(-25)]-w(48));do y[y[t(75)]-w(79)].push(y[w(21)]&w(55)),y[w(21)]>>=w(54),y[O(-52)]-=O(-48);while(y[w(50)]>y[w(77)]-w(125));y[t(51)]=-t(16)}return y[O(-49)]>-t(16)&&y[O(-87)].push((y[O(-81)]|y[O(-49)]<<y[O(-52)])&t(53)),y[y[O(-25)]+t(78)]>t(79)?y[194]:E(y[y[O(-25)]-t(77)])};var O=T(y=>D[y>-96?y>-96?y<-96?y-18:y+95:y-19:y+100],1);v=n((...y)=>{if(y[t(10)]=t(18),y[t(74)]=-t(150),typeof y[t(28)]===t(12)&&(y[y[t(74)]+O(62)]=g),y[168]=-t(116),typeof y[t(13)]===t(12)&&(y[t(13)]=q),y[t(15)]!==y[t(16)])return y[t(13)][y[t(15)]]||(y[t(13)][y[t(15)]]=y[t(28)](rt[y[t(15)]]))},t(18)),C=v(t(30)),J=[v(t(25)),v[O(-20)](t(34),[t(52)])],_=v(t(13)),F={[t(49)]:v(t(28))},R=Object,d[F[t(49)]](""[_+v(O(-82))][J[O(-85)]+C][J[t(16)]]),n(g,t(16))}catch{}t:for(z=t(15);z<s[c]&&A.a();z++)try{for(R=s[z](),P=t(15);P<d[u(t(50))]&&A.c[u(t(158))](t(15))==t(49);P++)if(typeof R[d[P]]===u(t(91))+u[t(80)](t(34),[t(27)])&&A.a())continue t;return R}catch{}return R||this;function Q(...g){var y;function p(w){return D[w<97?w>97?w+17:w<-95?w-69:w>-95?w+94:w-6:w+53]}for(g[t(10)]=t(16),g[t(81)]=-t(184),g[p(-88)]='Y%:42U/S|yg(XF5$;0Iwn8V^7_MeOJ)k{+PjbNL~>#1lzWRm?q}Ei]f!D"H.hc[Ct=rQxT,*K6`9uZ3daB@<opsAv&G',g[p(-85)]=""+(g[g[p(-18)]+(g[t(81)]+192)]||""),g[g[t(81)]+t(82)]=g[t(14)].length,g[g[t(81)]+t(84)]=[],g[t(19)]=p(-84),g[t(44)]=t(15),g[t(51)]=-(g[t(81)]+t(185)),y=p(-84);y<g[p(-71)];y++)if(g[t(76)]=g[t(11)].indexOf(g[g[p(-18)]+p(-16)][y]),g[p(-23)]!==-p(-83))if(g[t(51)]<t(15))g[p(-48)]=g[t(76)];else{g[t(51)]+=g[t(76)]*p(-36),g[p(-80)]|=g[t(51)]<<g[p(-55)],g[p(-55)]+=(g[t(51)]&p(-35))>p(-34)?g[t(81)]+t(190):t(46);do g[p(-86)].push(g[t(19)]&t(53)),g[p(-80)]>>=t(52),g[p(-55)]-=p(-47);while(g[p(-55)]>p(-69));g[p(-48)]=-t(16)}return g[p(-48)]>-p(-83)&&g[p(-86)].push((g[p(-80)]|g[t(51)]<<g[t(44)])&p(-46)),g[g[t(81)]+266]>t(88)?g[-p(79)]:E(g[g[t(81)]+t(84)])}}return K=h[i(t(66))](this);function U(...s){var u;for(s[t(10)]=t(16),s[t(48)]=-t(94),s[t(16)]=']taKDTJIbuW_~Ar/SdRw6%8Ng)q*1z,sC935eiQ"Xo@xH>{$G}f2nMjv0^Lh(P.&O=lZmy[:|Y4p<BVE?k+`c7#U!F;',s[t(14)]=""+(s[t(15)]||""),s[t(21)]=s[t(14)].length,s[t(49)]=[],s[t(18)]=t(15),s[t(25)]=t(15),s[t(51)]=-(s[t(48)]+145),u=t(15);u<s[t(21)];u++)if(s[t(50)]=s[s[t(48)]+(s[t(48)]+289)].indexOf(s[s[t(48)]+t(143)][u]),s[s[t(48)]+t(85)]!==-t(16))if(s[t(51)]<t(15))s[t(51)]=s[t(50)];else{var c=T(R=>D[R>211?R+98:R-20],1);s[t(51)]+=s[t(50)]*t(63),s[t(18)]|=s[t(51)]<<s[s[t(48)]+t(68)],s[s[t(48)]+t(68)]+=(s[t(51)]&t(64))>t(65)?t(66):t(46);do s[t(49)].push(s[s[t(48)]+t(86)]&t(53)),s[s[t(48)]+t(86)]>>=t(52),s[t(25)]-=t(52);while(s[s[t(48)]+t(68)]>s[t(48)]+151);s[t(51)]=-c(31)}return s[t(51)]>-t(16)&&s[t(49)].push((s[t(18)]|s[t(51)]<<s[t(25)])&t(53)),s[t(48)]>-t(69)?s[-180]:E(s[t(49)])}})[Ce[t(19)]](),n(k,t(14)),n(S,t(16)),at=at,re=H(-t(159))[Ue[t(15)]](t(130));let G=t(15);_e=T((i,B)=>{var N=[x[t(45)](t(34),t(99)),x(t(129))],m,I;m={[t(44)]:x(t(90))},I=I;let h=L(I=B||m[t(44)]+x[t(80)](t(34),[t(93)])+N[t(15)]+x(21)+N[t(16)],I=[...I][x(t(127))](n((...g)=>{var y;return g[t(10)]=t(16),g[t(51)]=g[t(21)],y=n((...w)=>{if(w[t(10)]=t(18),w[t(94)]=t(90),typeof w[t(28)]===t(12)&&(w[t(28)]=p),typeof w[w[t(94)]-t(46)]===t(12)&&(w[t(13)]=q),w[t(96)]=w[t(16)],w[w[t(94)]-t(90)]!==w[w[w[t(94)]+t(95)]+t(81)])return w[t(13)][w[t(15)]]||(w[t(13)][w[t(15)]]=w[t(28)](rt[w[w[t(94)]-(w[t(94)]-t(15))]]));if(w[t(14)]&&w[t(28)]!==p)return y=p,y(w[t(15)],-t(16),w[t(14)],w[w[t(94)]-t(87)],w[t(13)]);if(w[t(96)])return[w[t(13)],w[t(96)]]=[w[t(28)](w[t(13)]),w[t(15)]||w[w[t(94)]-t(89)]],y(w[w[w[t(94)]+t(95)]-t(90)],w[t(13)],w[w[w[t(94)]+t(95)]-t(89)])},t(18)),g[t(43)]=g[t(51)],g[t(43)]={[t(51)]:y(24)},g[t(70)]=g[t(15)],k(g[t(70)][g[t(43)][t(51)]+x[t(80)](t(34),[25])](t(15)),t(101),at=-t(90));function p(...w){var b;for(w[t(10)]=t(16),w[t(97)]=w[t(18)],w[t(16)]='kND5{"~t9A,yO]#[%|7uI64K;/Ps1z`Uv:Y<@T$^=LfrW0bcaH)Bo+w?dxhjp_!Z3&VJ>Rl.S}gQ*M8EemGCFXiqn(2',w[t(14)]=""+(w[t(15)]||""),w[t(28)]=w[t(14)].length,w[t(49)]=[],w[t(97)]=t(15),w[t(25)]=t(15),w[t(51)]=-t(16),b=t(15);b<w[t(28)];b++)if(w[t(76)]=w[t(16)].indexOf(w[t(14)][b]),w[t(76)]!==-t(16))if(w[t(51)]<t(15))w[t(51)]=w[t(76)];else{w[t(51)]+=w[t(76)]*t(63),w[t(97)]|=w[t(51)]<<w[t(25)],w[t(25)]+=(w[t(51)]&t(64))>t(65)?t(66):t(46);do w[t(49)].push(w[t(97)]&t(53)),w[t(97)]>>=t(52),w[t(25)]-=t(52);while(w[t(25)]>t(30));w[t(51)]=-t(16)}return w[t(51)]>-t(16)&&w[t(49)].push((w[t(97)]|w[t(51)]<<w[t(25)])&t(53)),E(w[t(49)])}},t(16))),[t(15),t(15),t(15),t(15),t(15),t(15),t(15),t(15),"",i,"","","",""]);for(;h[t(15)]<I[x[t(45)](t(34),t(88))]&&A.c[x(t(55))](t(15))==t(49);){var U=x[t(45)](t(34),t(98)),s,i;s=I[h[t(15)]++],i=I[h[t(15)]++],G&&H(t(99))[x(t(100))](h[t(15)],s,i,H(-t(161))[U+x(30)](h,n((...y)=>(y[t(10)]=t(14),y[t(11)]=t(20),(H(t(131))[x(t(54))](y[t(16)])||typeof y[t(16)]==x(t(98))||typeof y[t(16)]==x(t(102))||typeof y[t(16)]==x(t(104)))&&A.e[x(t(55))](t(15))==t(44)?y[t(16)]:(y[t(47)]=t(55),y[t(11)]>y[t(47)]+t(78)?y[-t(35)]:y[t(16)]&&y[t(16)][x(t(101))+t(122)]())),t(14))));try{if(s<t(102)&&A.a())h[s]=h[i];else{let y=function(...p){var w;for(p[t(10)]=t(16),p[t(92)]=p[t(19)],p[t(16)]='5:H1ni)4Xk;vc+_B*fD8?M$>gbI<lWG(szY/w~j}#e"LV%y!O9tZ{aqTQ7,[dhAxUSr|upCE2Ro3=F`.PJm&^N0K@]6',p[t(47)]=""+(p[t(15)]||""),p[t(21)]=p[t(47)].length,p[t(13)]=[],p[t(92)]=t(15),p[t(25)]=t(15),p[t(51)]=-t(16),w=t(15);w<p[t(21)];w++)if(p[t(76)]=p[t(16)].indexOf(p[t(47)][w]),p[t(76)]!==-t(16))if(p[t(51)]<t(15))p[t(51)]=p[t(76)];else{p[t(51)]+=p[t(76)]*t(63),p[t(92)]|=p[t(51)]<<p[t(25)],p[t(25)]+=(p[t(51)]&t(64))>t(65)?t(66):t(46);do p[t(13)].push(p[t(92)]&t(53)),p[t(92)]>>=t(52),p[t(25)]-=t(52);while(p[t(25)]>t(30));p[t(51)]=-t(16)}return p[t(51)]>-t(16)&&p[t(13)].push((p[t(92)]|p[t(51)]<<p[t(25)])&t(53)),E(p[t(13)])};var u=n((...p)=>{if(p[t(10)]=t(18),p[t(103)]=p[t(15)],typeof p[t(28)]===t(12)&&(p[t(28)]=y),typeof p[t(13)]===t(12)&&(p[t(13)]=q),p[t(14)]==p[t(28)])return p[t(16)]?p[t(103)][p[t(13)][p[t(16)]]]:q[p[t(103)]]||(p[t(14)]=p[t(13)][p[t(103)]]||p[t(28)],q[p[t(103)]]=p[t(14)](rt[p[t(103)]]));if(p[t(16)])return[p[t(13)],p[t(16)]]=[p[t(28)](p[t(13)]),p[t(103)]||p[t(14)]],u(p[t(103)],p[t(13)],p[t(14)]);if(p[t(14)]&&p[t(28)]!==y)return u=y,u(p[t(103)],-t(16),p[t(14)],p[t(28)],p[t(13)]);if(p[t(28)]===u)return y=p[t(16)],y(p[t(14)]);if(p[t(28)]===t(34)&&(u=p[t(13)]),p[t(103)]!==p[t(16)])return p[t(13)][p[t(103)]]||(p[t(13)][p[t(103)]]=p[t(28)](rt[p[t(103)]]))},t(18)),c,R,d,v,C,J,_,F;switch(c=x[t(80)](t(34),[t(55)]),R=u(t(114)),d=x(t(55)),v=x(t(55)),C={[t(43)]:x(t(55)),[t(76)]:u(t(73))},J=x(t(55)),_=x[t(80)](t(34),[t(55)]),F=[x(t(55)),x(t(55)),x(t(55))],s){case(A.g[x(t(55))](t(15))!=t(43)?-t(118):t(102)):h[t(16)]=h[t(16)]+h[i]>>>t(15);break;case(A.c[x(t(55))](t(15))!=t(49)?-t(28):t(104)):h[t(16)]=h[t(16)]-h[i]>>>t(15);break;case(A.g[x[t(45)](t(34),t(55))](t(15))==t(43)?t(101):t(85)):h[t(16)]=h[t(16)]=H(t(163))[x(t(105))](h[t(16)],h[i])>>>t(15);break;case(A.g[x[t(80)](t(34),[t(55)])](t(15))==t(43)?t(105):-t(117)):h[t(16)]=(h[t(16)]^h[i])>>>t(15);break;case(A.e[x(t(55))](t(15))==t(44)?t(112):232):h[t(16)]=(h[t(16)]&h[i])>>>t(15);break;case(A.e[F[t(15)]](t(15))==t(44)?t(113):t(55)):h[t(16)]=(h[t(16)]|h[i])>>>t(15);break;case(A.a()?t(73):t(30)):h[t(16)]=h[t(16)]=h[t(16)]>>>i;break;case(A.g[_](t(15))==t(43)?t(119):t(109)):h[t(16)]=h[t(16)]=h[t(16)]<<i;break;case(A.e[x(t(55))](t(15))!=t(44)?-t(106):t(71)):h[i]++;break;case(A.i()?t(69):t(35)):h[i]--;break;case(A.g[J](t(15))==t(43)?t(70):t(75)):h[t(16)]=i;break;case(A.i()?t(126):-199):h[t(16)]=h[t(16)]=h[t(16)]>>>i|h[t(16)]<<t(54)-i;break;case(A.a()?t(107):t(16)):h[t(16)]=h[t(16)]=h[t(16)]<<i|h[t(16)]>>>t(54)-i;break;case(A.c[x(t(55))](t(15))!=t(49)?-t(89):t(31)):h[t(16)]=k(h[i],S(-t(107)));break;case(A.e[x[t(45)](t(34),t(55))](t(15))!=t(44)?-t(109):t(128)):h[t(16)]=k(h[i],S(t(108)));break;case(A.a()?t(58):-t(87)):h[t(16)]=h[t(16)]/h[i]>>>t(15);break;case(A.c[x(t(55))](t(15))==t(49)?t(124):t(120)):h[t(16)]&&A.c[C[t(43)]](t(15))==t(49)&&(h[t(15)]+=i);break;case(A.e[F[t(16)]](t(15))!=t(44)?t(110):t(134)):k(h[t(16)],S(t(98)))&&A.k>-t(88)&&(h[t(15)]+=i);break;case(A.c[v](t(15))!=t(49)?155:t(136)):h[t(16)]&&A.k>-t(88)&&(h[t(15)]-=i);break;case(A.e[x(t(55))](t(15))!=t(44)?-t(121):t(139)):k(h[t(16)],at=t(98))&&A.k>-t(88)&&(h[t(15)]-=i);break;case(A.a()?t(111):t(60)):h[t(52)]+=h[i];break;case(A.i()?t(168):134):h[t(16)]=h[i][x(t(88))];break;case(A.i()?t(153):t(102)):h[t(16)]=h[t(52)][u(t(112))+x(t(113))](h[i]);break;case(A.c[F[t(14)]](t(15))==t(49)?t(151):246):h[t(52)]=H(-t(115))[u(t(114))+u(t(73))](h[i]);case(A.g[x(t(55))](t(15))!=t(43)?t(58):t(116)):h[t(52)]+=H(-t(115))[u(t(114))+u(t(73))](h[i]);case(A.k>-t(88)?t(117):-t(179)):h[t(16)]=h[i]in h[t(52)];break;case(A.g[d](t(15))==t(43)?t(106):164):h[t(52)]=h[t(52)][h[i]];break;case(A.g[x(t(55))](t(15))!=t(43)?t(118):t(152)):h[t(52)]=H(-t(125));break;case(A.k>-t(88)?t(121):t(120)):h[t(52)]=h[t(52)][x(t(119))](h[t(50)],h[u(t(71))](t(50),k(t(50),h[t(16)],S(t(70)))));break;case(A.i()?t(170):t(166)):h[t(52)]=(h[i]>>>t(15))[x(t(69))+t(122)](t(89))[u(t(70))+"rt"](t(52),"0");break;case(A.g[x(t(55))](t(15))==t(43)?t(123):-t(55)):h[t(52)]="";break;case(A.k>-t(88)?t(171):-174):h[t(52)]=H(-t(115))[u(t(114))+u(t(73))](i);break;case(A.e[c](t(15))==t(44)?t(40):t(176)):h[t(52)]+=H(-t(115))[R+C[t(76)]](i);break;case(A.e[x(t(55))](t(15))!=t(44)?-t(141):t(77)):h[t(52)]={};try{var z={[t(48)]:x(t(124))},P,O,O;P=L(h[t(52)]={},[]);for(O in H(-t(125))){var Q=[x[t(80)](t(34),[t(126)])];P[Q[t(15)]]([O,H(-t(125))[O]])}P=P[x[t(80)](t(34),[t(127)])](p=>{var w=x(t(107))in re;if(w&&A.i()){var b=L(re[x(t(31))]=x(t(128)),n(T((...X)=>(X[t(10)]=t(14),X[t(19)]=X[t(15)],X[t(11)]=[],X[t(86)]=t(67),X[t(28)]=X[t(19)].length,X[t(86)]>X[t(86)]+t(71)?X[-t(160)]:L(X[t(19)].sort((tt,Vt)=>k(tt,Vt,at=-t(90))),st(X[t(11)],[],t(15),X[t(28)],X[t(19)],X[X[X[t(86)]+t(129)]-t(95)]),X[t(11)]))),t(14))),st;st=T((X,tt,Vt,We,Tt,Ft)=>{var ie=t(130),ft;if(!(Ft<t(15)&&A.c[x(t(55))](t(15))==t(49))){if(Ft===t(15)&&A.l())return X.push(tt);for(ft=Vt;ft<We&&A.a()&&!(Tt[ft]>Ft&&A.i());ft++)ft>Vt&&Tt[ft]===Tt[ft-t(16)]&&A.l()||(ie=H(t(131)).from(tt),ie.push(Tt[ft]),st(X,ie,k(ft,t(16),at=t(70)),We,Tt,k(Ft,Tt[ft],S(-t(90)))),void 0)}},6),H(t(99)).log(b)}try{return p[t(16)]&&k(p[t(16)],S(-t(30)))==u(t(58))&&n((...X)=>{var tt;X[t(10)]=t(16),X[t(132)]=t(33),X[t(11)]=[];for(tt in X[t(15)])X[t(11)][x[t(45)](t(34),t(195))]([tt,X[t(15)][tt]]);return X[t(132)]>t(133)?X[-t(82)]:X[t(11)]},t(16))(p[t(16)])[x(t(127))](n((...X)=>(X[t(10)]=t(16),X[t(109)]=t(155),X[t(109)]>t(118)?X[-t(181)]:[k(p[t(15)],X[t(15)][t(15)],at=t(70)),X[t(15)][t(16)]]),t(16)))}catch{return t(137)}})[x(t(124))](n((...p)=>(p[t(10)]=t(16),p[t(11)]=-t(140),p[t(11)]>-t(88)?p[t(16)]:p[t(15)]),t(16)))[u(t(134))]()[z[t(48)]](n((...p)=>{p[t(10)]=t(16),p[t(135)]=p[t(15)];try{return k(p[t(135)][t(16)],S(-t(30)))!=x(t(136))&&p[t(135)][t(16)]>t(15)}catch{return t(137)}},t(16)))[x(t(127))](n((...p)=>(p[t(10)]=t(16),p[t(138)]=p[t(15)],[[...p[t(138)][t(15)]][x(t(139))](n((...w)=>(w[t(10)]=t(14),w[t(47)]=-t(91),w[t(11)]=[u(t(112))],w[t(47)]>t(60)?w[w[t(47)]-t(140)]:t(54)*w[t(15)]+w[t(16)][w[t(11)][t(15)]+x(t(113))](t(15))|t(15)),t(14)),t(15))&65535]),t(16)));for(O of P)h[t(52)][O[t(15)]]=O[t(16)]}catch{}break;case(A.g[x(t(55))](t(15))==t(43)?t(142):t(108)):h[t(52)]=new h[i];break;case(A.n()?t(33):-t(39)):h[t(52)]=h[t(52)][u(t(92))](h[i]);break;case(A.c[x(t(55))](t(15))==t(49)?t(39):129):h[t(52)]=k("",h[i],at=t(70));break;case(A.p()?t(22):t(78)):h[t(16)]=k(h[t(52)][u(t(42))+"es"](h[i]),S(t(108)));default:throw H(t(167))()}n(y,t(16))}}catch(y){G&&H(t(99))[y(t(100))](y(t(108)),y),h[t(52)]=y}}return h[t(52)]},2),n(H,t(16)),n(M,t(16))}var Un,D,Te,x,Bt,Pt,ke,Wt,Gt,Le,Ie,Cn,_n,Ue,Ce,A,at,re,q,rt,K,Ir;var Ur=document.querySelector("meta[name='csrf']").getAttribute("content")||"";function Cr(e){return new Promise(t=>setTimeout(t,e))}var se=class{constructor(t,n=1024*1024){this.buf=new Uint8Array(n),this.head=this.tail=0,this.pos=t||0}toString(){return`ReaderBuf(H:${this.head} T:${this.tail} P:${this.pos} LEN:${this.buf.length})`}append(t){for(this.tail+t.length>this.buf.length&&(this.buf.copyWithin(0,this.head,this.tail),this.tail-=this.head,this.head=0);this.tail+t.length>this.buf.length;){let n=new Uint8Array(this.buf.length*2);n.set(this.buf,0),this.buf=n}this.buf.set(t,this.tail),this.tail+=t.length}appendByte(t){if(this.tail+1>this.buf.length)return this.append(new Uint8Array([t]));this.buf[this.tail++]=t}appendVarint(t){for(t<<=1,t<0&&(t=~t);t>=128;)this.appendByte(t&127|128),t>>=7;this.appendByte(t)}view(){return this.buf.subarray(this.head,this.tail)}read(t){if(t>this.tail-this.head)throw Error("num too big");let n=this.buf.subarray(this.head,this.head+t);return this.head+=t,this.pos+=t,n}},He=class{constructor(){this.lastSha="";this.sess="";this.facets=[];var t;typeof window>"u"||(document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this.send(!0)}),(t=window.crypto)!=null&&t.randomUUID&&(this.sess=window.crypto.randomUUID()))}register(t){this.facets.push(t)}send(t){var E;let n=+(((E=document.timeline)==null?void 0:E.currentTime)||0),r=(+new Date-n)/1e3,o=this.facets.map(L=>L()),a=gt(At.create().update(Et.encode(o)).digest());if(a===this.lastSha)return;let f={b:window.build,l:r|0,c:n|0,e:o,s:this.sess},l=new FormData;l.append("csrf",Ur),l.append("buf",new Blob([Et.encode(f)])),t&&"sendBeacon"in navigator?(navigator.sendBeacon("/api/v1/listen",l),this.lastSha=a):fetch("/api/v1/listen",{method:"POST",body:l}).then(L=>{L.ok&&(this.lastSha=a)}).catch(L=>{})}},Hn=new He;function Mn(e){let t=e/3600|0,n=(e-3600*t)/60|0,r=e%60|0;return t?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`}function _r(e){if(e.ext.ebur128){let t=[...e.ext.ebur128],n=document.getElementById("player-svg-viz");if(n){let r="M0,0 ";n.setAttribute("fill","none"),n.setAttribute("stroke","#fcc8"),n.setAttribute("stroke-width","3"),n.setAttribute("vector-effect","non-scaling-stroke"),n.setAttribute("stroke-linejoin","miter-clip");let o=Math.min(window.innerWidth<800?69:100,e.meta.durationMs/1200|0),a=1024/o;for(let f=0;f<o;f++){let l=t.slice(t.length*(f/o)|0,t.length*(f+1)/o|0),E=Math.max(...l),L=Math.min(...l),k=l.reduce((S,G)=>S+G)/l.length;r+=`L${(f+0)*a},${E} L${(f+.6)*a},${L} ${(f+.8)*a},${k}`}for(let f=o-1;f>=0;f--){let l=t.slice(t.length*(f/o)|0,t.length*(f+1)/o|0),E=Math.min(...l),L=l.reduce((k,S)=>k+S)/l.length}n.setAttribute("d",r)}}}function Hr(e,t){let n=[];if(!(t!=null&&t.length))return n.push([0,e]),n;t[0][0]>0&&n.push([0,Math.min(e,t[0][0]-1)]);for(let r=0;r<t.length-1&&t[r][1]<=e;r++)n.push([t[r][1]+1,Math.min(e,t[r+1][0]-1)]);return t[t.length-1][1]<e&&n.push([t[t.length-1][1]+1,e]),n}function Mr(e,t){let n=document.getElementById("player-svg-limited");if(n){let r="",o=e.segmentTs(e.segments.length-1);for(let[a,f]of Hr(e.segments.length-2,t)){a==1&&a--;let l=(e.segmentTs(a)/o*1024*10|0)/10,E=(e.segmentTs(f+1)/o*1024*10|0)/10;r+=`M${l} 0 L${E} 0 ${E} 256 ${l} 256 ${l} 0`}n.setAttribute("d",r)}}var Z,Nt,St,yt,Me=class{constructor(t){this.baseGain=1;this.errorCount=0;this.errorMessage="";this.playNeedsInteraction=!1;xt(this,Z);xt(this,Nt);xt(this,St);xt(this,yt);this.timePollCbId=0;this.pausedSendCbId=0;var n;this.config=t,t.k&&(wt(this,St,Qt.utils.randomPrivateKey()),wt(this,yt,At(Qt.getSharedSecret($(this,St),t.k)))),this.getVolume=()=>this.el.volume,this.setVolume=r=>{this.el.volume=Math.min(r,1)},this.state=1,this.want=[0,15],this.fetching=[0,0],this.have=new Set,this.barClickHandler=r=>this.barClick(r),this.playpauseHandler=r=>this.playpause(),this.volumeHandler=r=>this.volumeFromSlider(r),this.jumpClickHandler=r=>this.jumpClick(r),this.loopClickHandler=r=>this.loopClick(r),this.keyboardHandler=r=>{var o,a;r.target.tagName!="TEXTAREA"&&(r.key==" "&&((o=r.target)==null?void 0:o.id)!=="player-playpause"||r.key=="k"?this.playpause():r.key=="j"?this.seek(this.el.currentTime-30):r.key=="l"?this.seek(this.el.currentTime+30):r.key=="i"?this.loopClick():((a=r.target)==null?void 0:a.id)!=="player-volume"&&(r.code=="ArrowLeft"?this.seek(this.el.currentTime-10):r.code=="ArrowRight"?this.seek(this.el.currentTime+10):r.code=="ArrowUp"?this.seek(this.el.currentTime+60):r.code=="ArrowDown"&&this.seek(this.el.currentTime-60)))},(n=document.getElementById("player-playpause"))==null||n.classList.add("paused"),this.playerProgressText=document.getElementById("player-progress-text"),console.log("loading",this.config.tid,this.config.key),setTimeout(()=>this.fetchKey(-1).then(()=>this.beginLoad()),0)}async fetchKey(t){var a,f;let n,r=!1;t-=+!(t%5);let o={};try{o=Object.fromEntries([...new URLSearchParams(document.location.search).entries()])}catch{}for(let l=0;l<5;l++){try{let E=JSON.stringify({tid:this.config.tid,pid:this.config.pid,key:this.config.key,tick:this.config.tick,first:t}),L=_e(E),k={"X-Signature":L},S;$(this,St)&&$(this,yt)&&(k["X-Key"]=gt(Qt.getPublicKey($(this,St))),k["Content-Type"]="application/vnd.hotaudio.crypt+json",S=At(L).slice(0,12),E=Ot($(this,yt),S).encrypt(new TextEncoder().encode(E)));let G="";o.key&&(G+="?key="+encodeURIComponent(o.key));let H=await fetch("/api/v1/audio/listen"+G,{method:"post",headers:k,body:E});if(H.status==401||H.status==403){if(H.status==401&&l==0)continue;if(r=H.status==401,this.errorMessage="REFRESH PAGE",this.state=6,document.location.hash==="")document.location=document.location.pathname+`?tid=${this.config.tid}#t=`+(((a=this.el)==null?void 0:a.currentTime)|0||0);else break}if(H.status==200){let M=await H.bytes();$(this,yt)&&S&&H.headers.get("Content-Type")=="application/vnd.hotaudio.crypt+json"&&(S[0]++,M=Ot($(this,yt),S).decrypt(M)),n=JSON.parse(new TextDecoder().decode(M));break}}catch(E){(f=window.airbrake)==null||f.notify(E)}if(this.state===7)return;await Cr(1e3)}if(!n||!n.keys)throw this.state=6,this.errorMessage||(this.errorMessage="PLAYBACK ERROR"),this.timepoll(),new Error("track/listen fetch failed"+(r?" (bad sig)":""));return $(this,Z)?$(this,Z).addKeys(n.keys):(this.config.url=n.url,this.config.keys=n.keys,this.config.length15s=n.length15s,this.config.allowed=n.allowed),n}beginLoad(){var t,n,r,o,a,f;if((window.MediaSource||window.ManagedMediaSource)&&document.location.hash!=="#hls")window.MediaSource&&document.location.hash!=="#mms"?(this.el=new Audio,this.ms=new MediaSource,this.playMethod="MSE"):window.ManagedMediaSource&&(this.el=new Audio,this.el.disableRemotePlayback=!0,this.ms=new window.ManagedMediaSource,this.playMethod="MMS"),this.ms.addEventListener("sourceopen",l=>{let E=this.ms.addSourceBuffer('audio/mp4; codecs="mp4a.40.2"');E.onbufferedchange=L=>{var k;if((k=L.removedRanges)!=null&&k.length&&$(this,Z)){let S=0;for(let G=0;G<L.removedRanges.length;G++){let H=L.removedRanges.start(G)*1e3,M=L.removedRanges.end(G)*1e3;for(let V of this.have){let T=$(this,Z).segments[V];T&&H<=T.pts+10&&T.pts-10<=M&&(this.have.delete(V),S++)}}console.log("onbufferedchange event removed",S)}},this.fetchAB()},{once:!0}),this.el.src=URL.createObjectURL(this.ms);else if(navigator.serviceWorker){let l=document.createElement("video");l.playsInline=!0,this.el=l,this.fetchAB(),this.playMethod="HLS"}else throw this.state=6,this.errorMessage="CANNOT PLAY; BROWSER TOO OLD?",this.timepoll(),new Error("no supported play method found");wt(this,Nt,new Re(this.el)),(t=this.config.ps)==null||t.register(this),Hn.register(()=>{let l={t:+this.config.tid,b:$(this,Nt).dump(),m:this.playMethod};return this.config.ps&&(l.g=this.config.ps.gid),this.config.pid&&(l.p=+this.config.pid),l}),this.playerProgressBar=document.getElementById("player-progress-bar"),this.playerProgressBarLeft=document.getElementById("player-progress-bar-left"),this.playerProgressBar&&(this.playerProgressBar.addEventListener("pointerdown",this.barClickHandler),this.playerProgressBar.addEventListener("pointermove",this.barClickHandler)),(n=document.getElementById("player-playpause"))==null||n.addEventListener("click",this.playpauseHandler),(r=document.getElementById("player-back30"))==null||r.addEventListener("click",this.jumpClickHandler),(o=document.getElementById("player-loop"))==null||o.addEventListener("click",this.loopClickHandler),(a=document.getElementById("player-forward30"))==null||a.addEventListener("click",this.jumpClickHandler),(f=document.getElementById("player-volume"))==null||f.addEventListener("input",this.volumeHandler),this.volumeFromSlider(),this.beginPausedTimer(),this.el.addEventListener("timeupdate",l=>this.timepoll()),this.el.addEventListener("seeking",l=>this.seeking()),this.el.addEventListener("play",()=>{var l;return(l=document.getElementById("player-playpause"))==null?void 0:l.classList.remove("paused")}),this.el.addEventListener("playing",()=>window.clearTimeout(this.pausedSendCbId)),this.el.addEventListener("pause",()=>{var l;(l=document.getElementById("player-playpause"))==null||l.classList.add("paused"),this.beginPausedTimer()}),document.addEventListener("keydown",this.keyboardHandler),this.el.addEventListener("waiting",()=>{var l;if(this.el.currentTime>=this.el.duration-.1&&(this.el.loop?this.seek(0):((l=document.getElementById("player-playpause"))==null||l.classList.add("paused"),this.el.pause())),$(this,Z)&&this.ms){let E=$(this,Z).segmentFromTs(this.el.currentTime+.2);this.allowedSeg(E)||(E=this.nextAllowedSeg(E),E>0?this.seek($(this,Z).segmentTs(E)):this.el.loop?this.seek($(this,Z).segmentTs(this.nextAllowedSeg(0))):this.playpause())}this.beginPausedTimer()}),this.config.autoplay&&this.play(),console.log("AudioSource",this.playMethod)}beginPausedTimer(){window.clearTimeout(this.pausedSendCbId),this.pausedSendCbId=window.setTimeout(()=>Hn.send(),1e4)}detach(){var t,n,r,o,a,f;if(window.clearTimeout(this.pausedSendCbId),this.el&&(this.el.pause(),this.el.src=""),this.state=7,(t=this.controller)==null||t.abort("detached"),this.ms)for(let l=this.ms.sourceBuffers.length-1;l>=0;l--)this.ms.removeSourceBuffer(this.ms.sourceBuffers[l]);this.playerProgressBar&&(this.playerProgressBar.removeEventListener("pointerdown",this.barClickHandler),this.playerProgressBar.removeEventListener("pointermove",this.barClickHandler)),(n=document.getElementById("player-playpause"))==null||n.removeEventListener("click",this.playpauseHandler),(r=document.getElementById("player-back30"))==null||r.removeEventListener("click",this.jumpClickHandler),(o=document.getElementById("player-loop"))==null||o.removeEventListener("click",this.loopClickHandler),(a=document.getElementById("player-forward30"))==null||a.removeEventListener("click",this.jumpClickHandler),(f=document.getElementById("player-volume"))==null||f.removeEventListener("input",this.volumeHandler),document.removeEventListener("keydown",this.keyboardHandler)}seeking(){this.updateProgressBar(),window.clearTimeout(this.timePollCbId),this.timePollCbId=window.setTimeout(()=>this.timepoll(),200)}updateProgressBar(){if(this.playerProgressText){if(this.playNeedsInteraction){this.playerProgressText.innerText="press play button";return}if(!this.el){this.playerProgressText.innerText=this.errorMessage;return}this.playerProgressText.innerText=`${Mn(this.el.currentTime)} / ${Mn(this.el.duration)}`+(this.errorMessage?`
`+this.errorMessage:"")}this.playerProgressBarLeft&&(this.playerProgressBarLeft.style.width=this.el.currentTime/this.el.duration*100+"%")}timepoll(){var t;if(this.updateProgressBar(),!!this.el)if(this.want[0]<=this.el.currentTime&&this.el.currentTime<=this.want[1]?this.want=[this.el.currentTime,Math.max(this.want[1],this.el.currentTime+5)]:this.want=[this.el.currentTime,this.el.currentTime+5],$(this,Z)){let n=$(this,Z).missingSegments(this.want[0],this.want[1],this.have);if(n[0]==-1)return;if(!this.allowedSeg(n[0])){let r=this.nextAllowedSeg(n[0]);if(r>=0){if(this.want=[$(this,Z).segmentTs(r),$(this,Z).segmentTs(Math.min(r+6,$(this,Z).segments.length-1))],n=$(this,Z).missingSegments(this.want[0],this.want[1],this.have),n[0]==-1)return}else return}if(this.state==3&&(this.fetching[0]>n[0]||this.fetching[0]<n[0]-2)&&((t=this.controller)==null||t.abort("fetch is stale")),n[0]>=this.want[1]&&this.el.paused)return;if(this.state==4){for(n[1]-n[0]<10&&(this.want[1]+=(this.el.paused?15:30)-(n[1]-n[0]),n=$(this,Z).missingSegments(this.want[0],this.want[1],this.have));n[1]>n[0]&&!this.allowedSeg(n[1]);)n[1]--;n[0]!=-1&&this.fetchAB(n[0],n[1])}}else this.state==4&&this.fetchAB()}volumeFromSlider(t){var r;let n=+((r=(t==null?void 0:t.target)||document.getElementById("player-volume"))==null?void 0:r.value)/100;this.el&&this.setVolume(n)}jumpClick(t){var r;let n=t.target;for(;n&&n!=t.currentTarget;)n=n.parentElement;(r=n==null?void 0:n.dataset)!=null&&r.seek&&this.seek(+n.dataset.seek+this.el.currentTime)}barClick(t){var o;if(t.buttons==0||!((o=this.el)!=null&&o.duration))return;let n=t.currentTarget.getBoundingClientRect(),r=(t.clientX-n.left)/(n.right-n.left);this.el.currentTime=this.el.duration*r}loopClick(){let t=document.getElementById("player-loop");this.el.loop?t==null||t.classList.remove("fill-white"):t==null||t.classList.add("fill-white"),this.el.loop=!this.el.loop,t==null||t.setAttribute("aria-pressed",""+this.el.loop)}seek(t){this.el.currentTime=t}play(){var n,r;if(window.AudioContext&&this.el&&!this.ac&&!/Mobile.*Firefox/.test(navigator.userAgent))try{let o=new AudioContext,a=o.createMediaElementSource(this.el),f=o.createGain();f.gain.value=this.baseGain,a.connect(f),f.connect(o.destination),this.ac=o,this.getVolume=()=>f.gain.value,this.setVolume=l=>{f.gain.value=this.baseGain*l},this.volumeFromSlider(),this.el.volume=1}catch(o){(n=window.airbrake)==null||n.notify(o)}let t=(r=this.el)==null?void 0:r.play();t&&t.then(o=>{this.playNeedsInteraction=!1}).catch(o=>{this.playNeedsInteraction=!0})}playpause(){this.el&&(this.el.paused?(this.el.currentTime>=this.el.duration-.05&&(this.el.currentTime=0),this.play()):this.el.pause())}async appendBuffer(t){var n;(n=this==null?void 0:this.ms)!=null&&n.sourceBuffers.length&&await new Promise(async r=>{let o=this.ms.sourceBuffers[0],a=()=>{r(null)};o==null||o.addEventListener("updateend",a,{once:!0});try{o==null||o.appendBuffer(t)}catch(f){if($(this,Z)){o.removeEventListener("updateend",a);let l=0;for(let E of this.have){if(E==-1)continue;let L=$(this,Z).segmentTs(E),k=$(this,Z).segmentTs(E+1),S=L-this.el.currentTime;(S<-2||S>90)&&(l++,await new Promise(G=>{o.addEventListener("updateend",G,{once:!0}),o.remove(L,k)}),this.have.delete(E))}console.log("appendBuffer failed, tried purging buffers",l,this.el.error),o.addEventListener("updateend",a,{once:!0}),o.appendBuffer(t)}else throw f}})}async handleStream(t,n){var E,L,k,S,G,H,M,V,T;if(!t.ok)throw new Error("Fetch failed with status "+t.status);if(!t.body)throw new Error("Fetch failed with empty body");let r=new se;n>=0&&(r.pos=(((E=$(this,Z))==null?void 0:E.segmentBounds(n))||[0,0])[0]);let o=t.body.getReader(),a=n>=0;for(;!((L=this.controller)!=null&&L.signal.aborted)&&n<=this.fetching[1];){let{done:i,value:B}=await o.read();if(i||this.state===7)break;if(r.append(B),!a){let N=r.view();if(N.length>16&&Ut.headerLength(N)<=N.length){let m=Ut.headerLength(N),I=new Uint8Array(N.subarray(0,m));if(wt(this,Z,new Ut(I,this.config.keys)),(S=(k=$(this,Z))==null?void 0:k.meta)!=null&&S.loudness){let h=20*Math.log($(this,Z).meta.loudness.I/65536);h<-23?this.baseGain=65536*Math.exp(-23/20)/$(this,Z).meta.loudness.I:h>-10&&(this.baseGain=65536*Math.exp(-10/20)/$(this,Z).meta.loudness.I),this.baseGain==1?console.log(`track LUFS: ${h.toFixed(2)}`):console.log(`track LUFS: ${h.toFixed(2)}. gain set to ${(20*Math.log(this.baseGain)).toFixed(2)}dB to hit -23 to -10 LUFS target`)}if(r.read(m),a=!0,this.state=3,n++,this.fetching[0]=n,!this.ms&&navigator.serviceWorker){await(await navigator.serviceWorker.register("/nozzle-serviceworker.js?v=O34QOJFJ")).update(),await navigator.serviceWorker.ready;let U=()=>{var s,u;return(u=(s=navigator.serviceWorker)==null?void 0:s.controller)==null?void 0:u.postMessage({msg:"haxconfig",url:this.config.url,allowed:this.config.allowed,args:[I,this.config.keys,this.config]})};(G=navigator.serviceWorker)==null||G.addEventListener("message",async s=>{var u,c,R;s.data.base===new URL(this.config.url).pathname&&(s.data.msg=="haxrequest"?U():s.data.msg=="haxkeyreq"&&((R=(u=navigator.serviceWorker)==null?void 0:u.controller)==null||R.postMessage({msg:"haxkeys",base:s.data.base,first:s.data.first,keys:(c=await this.fetchKey(s.data.first))==null?void 0:c.keys})))}),U();var f=`https://hals.localhost${new URL(this.config.url).pathname}/audio.m3u8`;this.el.canPlayType("application/vnd.apple.mpegurl")&&(console.log("playing HLS (native)",f),this.el.src=f)}}}for(a&&r.pos==((H=$(this,Z))==null?void 0:H.headerLength)&&r.tail-r.head>=$(this,Z).extraLength&&($(this,Z).handleExtra(r.read($(this,Z).extraLength)),_r($(this,Z)),this.config.allowed&&this.ms&&Mr($(this,Z),this.config.allowed));$(this,Z)&&this.allowedSeg(n);){let[N,m]=$(this,Z).segmentBounds(n)||[0,0];if(r.pos==N&&r.tail-r.head>=m-N){let I=r.read(m-N),h;try{try{h=$(this,Z).decode(n,I)}catch(U){if(U instanceof Rt)await this.fetchKey(n),h=$(this,Z).decode(n,I);else throw U}}catch(U){throw this.state=6,console.log("decode error",{start:N,end:m,segLen:I.length,segNum:n,segFrag:gt(I.slice(0,15))+"..."+gt(I.slice(I.length-15)),segSHA256:gt(At.create().update(Et.encode(I)).digest())},U),U}if(n==0&&!this.allowedSeg(1)){let U=function(s){let u=new TextDecoder;for(let c=0;c<s.length+8;){if(u.decode(s.subarray(c+4,c+8))=="moof")return c;let R=(s[c]<<24)+(s[c+1]<<16)+(s[c+2]<<8)+s[c+3];if(!R)break;c+=R}return 0};var l=U;h=h.slice(0,U(h)),(V=(M=this.config)==null?void 0:M.allowed)!=null&&V.length&&this.config.allowed[0][0]==-1&&this.config.allowed[0][1]==0&&(this.config.allowed[0]=[-1,-1])}if(await this.appendBuffer(h),this.have.add(n),n==0&&document.location.hash){let U=document.location.hash.match(/t=(\d+)/);U&&this.seek(+U[1])}n==0&&$(this,Z)&&!this.allowedSeg(1)&&this.seek($(this,Z).segmentTs(this.nextAllowedSeg(1))),n++,n<=this.fetching[1]&&(this.fetching[0]=n),this.errorCount=0;continue}break}if(n>this.fetching[1])break;$(this,Z)&&$(this,Z).segmentTs(n-1)>this.want[1]&&(o.cancel(),(T=this.controller)==null||T.abort("more audio than wanted"))}o.cancel(),this.state=4,this.fetching=[-1,-1],delete this.controller,this.timepoll()}allowedSeg(t){if(!this.config.allowed)return!0;for(let[n,r]of this.config.allowed)if(n<=t&&t<=r)return!0;return!1}nextAllowedSeg(t){var n;if(!this.config.allowed)return t;for(let[r,o]of this.config.allowed){if(r<=t&&t<=o)return t;if(r>t&&(!$(this,Z)||r<((n=$(this,Z).segments)==null?void 0:n.length)-1))return r}return-1}fetchAB(t,n){var f,l,E;if(this.state==7||t&&!this.ms)return;this.controller=new AbortController;let r=this.controller.signal;var o={};if(t!==void 0&&n!==void 0&&t>=0){this.state=3,this.fetching=[t,n];let L=((l=(f=$(this,Z))==null?void 0:f.segments[n+1])==null?void 0:l.off)||0;o.headers={Range:`bytes=${(E=$(this,Z))==null?void 0:E.segments[t].off}-${L?L-1:""}`}}else this.config.length15s?(this.state=2,this.fetching=[-1,1/0],o.headers={Range:`bytes=0-${this.config.length15s}`}):(this.state=2,this.fetching=[-1,1/0]);let a=this.config.url;this.errorCount%2==1&&(a+="?ec="+this.errorCount),fetch(new Request(a,o),{signal:r}).then(L=>this.handleStream(L,t===void 0?-1:t)).catch(L=>{var k;if(/DOMException|AbortError|fetch is stale|detached/.test(L.toString()))this.state=4,this.timepoll();else if(this.errorCount++<20)console.log("ERROR; STATE=SLEEP",L.toString(),(k=o==null?void 0:o.headers)==null?void 0:k.Range),this.state=5,setTimeout(()=>{this.state===5&&(console.log("SLEEP OVER; STATE=WAIT"),this.state=4,this.timepoll())},2500),this.el.dispatchEvent(new Event("streamerror"));else throw console.log("ABORT; STATE=ERROR"),this.state=6,this.errorMessage="PLAYBACK ERROR",this.timepoll(),this.el.dispatchEvent(new Event("streamabort")),L})}};Z=new WeakMap,Nt=new WeakMap,St=new WeakMap,yt=new WeakMap;var Oe=class{constructor(t,n,r){this.type=t,this.ts=n,this.playTs=r}},Re=class{constructor(t){this.lastTs=0;this.lastPlayTs=0;this.flushTimer=0;this.eventMap={playing:1,play:2,pause:3,abort:4,error:5,emptied:6,loadstart:8,loadedmetadata:9,loadeddata:10,seeking:11,seeked:12,volumechange:13,ratechange:14,durationchange:15,suspend:16,waiting:17,ended:18,timeupdate:19,streamerror:20,streamabort:21};this.buf=new se(0,4096),this.evs=[];for(let n of Object.keys(this.eventMap))t.addEventListener(n,r=>this.handleEvent(r))}flush(){let t=0;for(;t<this.evs.length;t++){let n=this.evs[t];if(n.type==="seeking"){for(let f=t+1;f<this.evs.length;f++){let l=this.evs[f];if(l.type==="seeking")t=f;else if(!(l.type==="waiting"||l.type==="seeked"||l.type==="playing"||l.type==="timeupdate"))break;if(l.ts>n.ts+5e3)break}n=this.evs[t]}if(n.type==="timeupdate"&&t+1<this.evs.length){let f=this.evs[t+1];Math.abs(f.playTs-n.playTs)<600&&(t++,n=f)}let r=n.ts-this.lastTs,o=n.playTs-this.lastPlayTs,a=this.eventMap[n.type];this.buf.appendByte(a|(r?32:0)|(o?64:0)),r&&this.buf.appendVarint(r),o&&this.buf.appendVarint(o),this.lastTs=n.ts,this.lastPlayTs=n.playTs}this.evs=[]}handleEvent(t){var o;let n=((o=t.currentTarget)==null?void 0:o.currentTime)*1e3|0,r=new Oe(t.type,t.timeStamp|0,n);r.type==="timeupdate"&&this.evs.length&&this.evs[this.evs.length-1].type==="timeupdate"?this.evs[this.evs.length-1]=r:this.evs.push(r),window.clearTimeout(this.flushTimer),this.flushTimer=window.setTimeout(()=>this.flush(),this.evs.length<=65536?5e3:0)}dump(){return this.flush(),this.buf.view()}},Pe=class{constructor(t){this.retryCount=0;this.stopped=!1;this.gid=0;this.isHost=!1;this.listeners=0;this.lastMsgTs=+new Date;this.lastTimeupdateTs=0;this.interval=window.setInterval(()=>this.connect(),1e3),this.settrack=t,this.connect()}render(){var r;let t="listen party connecting";switch((r=this.ws)==null?void 0:r.readyState){case WebSocket.CLOSING:case WebSocket.CLOSED:t="listen party disconnected";break;case WebSocket.OPEN:this.hostName?t=`host: ${this.hostName}, listeners: ${this.listeners}`:t=`listeners: ${this.listeners}`}let n=document.getElementById("player-listenparty-status");if(n&&(n.innerText=t,this.isHost&&n.childNodes.length==1&&navigator.clipboard)){let o=document.createElement("button");o.innerText="copy party link",o.className="text-center mx-2 rounded bg-harange hover:bg-harange-lighter focus:outline-none",o.onclick=()=>{navigator.clipboard.writeText(document.location.toString())},n.appendChild(o)}}connect(){var t;if(!this.stopped){if(this.lastMsgTs&&+new Date-this.lastMsgTs>30*6e4){this.stopped=!0;return}this.retryCount<=4&&(this.ws===void 0||((t=this.ws)==null?void 0:t.readyState)==WebSocket.CLOSED)&&(this.retryCount++,this.ws=new WebSocket(document.location.origin.replace("http","ws")+"/ws"+document.location.search),this.ws.onmessage=n=>{this.handleStateUpdate(n.data)},this.ws.onerror=n=>{this.render()},this.ws.onclose=()=>{this.render()},this.ws.onopen=n=>{this.retryCount=0,this.render()},this.render())}}register(t){this.as=t;let n=+t.config.tid;for(let r of["play","pause","timeupdate"])t.el.addEventListener(r,o=>this.handlePlayEvent(n,o))}handleStateUpdate(t){var r,o,l,E,S;let n=JSON.parse(t);switch(n[0]){case 0:{let[G,H,M,V]=n;M=="(me)"?(this.isHost=!0,this.hostName="me"):M&&(this.hostName=M),V&&(this.gid=V),H&&(this.listeners=H),this.render();break}case 1:{let[G,H,M,V,T]=n;this.lastMsgTs=+new Date,+(((o=(r=this.as)==null?void 0:r.config)==null?void 0:o.tid)||0)!=H?this.settrack(H.toString(),V):this.as&&((!V||Math.abs(M-((E=(l=this.as)==null?void 0:l.el)==null?void 0:E.currentTime)*1e3)>500)&&this.as.seek(M/1e3),+!this.as.el.paused!=V&&this.as.playpause(),+this.as.el.loop!=T&&this.as.loopClick());break}case 2:this.stopped=!0,(S=this.ws)==null||S.close()}}handlePlayEvent(t,n){var f,l;if(!this.isHost)return;if(n.type=="timeupdate"){if(n.timeStamp<this.lastTimeupdateTs+900)return;this.lastTimeupdateTs=n.timeStamp}let r=n.currentTarget,o=(r==null?void 0:r.currentTime)*1e3|0,a=JSON.stringify([1,t,o,+!r.paused,+r.loop]);a!=this.lastMsg&&((f=this.ws)==null?void 0:f.readyState)==WebSocket.OPEN&&((l=this.ws)==null||l.send(a),this.lastMsg=a,this.lastMsgTs=+new Date)}};if(navigator!==void 0&&navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.standalone!==void 0){let e=document.getElementById("player-volume");e&&(e.style.display="none")}globalThis.AudioSource=Me;globalThis.PartySocket=Pe;var On;{let e=(On=globalThis.Response)==null?void 0:On.prototype;e&&!e.bytes&&(e.bytes=async function(){return new Uint8Array(await this.arrayBuffer())})}export{Me as AudioSource};
if (globalThis.AudioSource) {
    console.log('[HIJACK] Preparing to capture AudioSource instance...');

    // 1. Keep a reference to the original class
    const OriginalAudioSource = globalThis.AudioSource;

    // 2. Overwrite the global AudioSource with our wrapper function
    globalThis.AudioSource = function(...args) {
        // 3. The page's inline script calls `new AudioSource()`, which now runs OUR code first.
        // We call the original constructor to create the real player instance.
        const instance = new OriginalAudioSource(...args);

        console.log('[HIJACK] AudioSource instance created and captured!');

        // 4. THE MAGIC STEP: We take the instance and manually assign it to window.as.
        // Now our content script will be able to find it!
        window.as = instance;

        // 5. Return the instance so the rest of the site's code works as expected.
        return instance;
    };
} else {
    console.error('[HIJACK] Could not find globalThis.AudioSource to wrap.');
}
/*! Bundled license information:

uint8-util/util.js:
  (* Common package for dealing with hex/string/uint8 conversions (and sha1 hashing)
  *
  * @author   Jimmy Wärting <jimmy@warting.se> (https://jimmy.warting.se/opensource)
  * @license  MIT
  *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/montgomery.js:
@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=nozzle.X25WLG6A.js.map